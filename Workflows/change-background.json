{"last_node_id":2139,"last_link_id":4656,"nodes":[{"id":178,"type":"SetNode","pos":[4930,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":210,"mode":0,"inputs":[{"name":"INT","type":"INT","link":1528,"label":"INT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Seed","properties":{"previousName":"Seed"},"widgets_values":["Seed"]},{"id":810,"type":"Reroute","pos":[2610,-300],"size":[82,26],"flags":{},"order":455,"mode":0,"inputs":[{"name":"","type":"*","link":1923,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2069],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":854,"type":"Reroute","pos":[3530,-330],"size":[82,26],"flags":{},"order":431,"mode":0,"inputs":[{"name":"","type":"*","link":2067,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2068],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":142,"type":"Reroute","pos":[1720,-330],"size":[82,26],"flags":{},"order":429,"mode":0,"inputs":[{"name":"","type":"*","link":762,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2067],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":855,"type":"Reroute","pos":[3530,-300],"size":[82,26],"flags":{},"order":457,"mode":0,"inputs":[{"name":"","type":"*","link":2069,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2070],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":872,"type":"Reroute","pos":[5640,-360],"size":[82,26],"flags":{},"order":486,"mode":0,"inputs":[{"name":"","type":"*","link":2105,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2110],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":811,"type":"Reroute","pos":[5640,-300],"size":[82,26],"flags":{},"order":459,"mode":0,"inputs":[{"name":"","type":"*","link":2070,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1925,2114],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":296,"type":"Reroute","pos":[5640,-330],"size":[82,26],"flags":{},"order":433,"mode":0,"inputs":[{"name":"","type":"*","link":2068,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[584,2115],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1064,"type":"UltralyticsDetectorProvider","pos":[8340,2280],"size":{"0":320,"1":80},"flags":{},"order":0,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[2396],"shape":3,"label":"BBOX_DETECTOR","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"],"color":"#332922","bgcolor":"#593930"},{"id":1063,"type":"SetNode","pos":[8700,2120],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":209,"mode":0,"inputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","link":2395,"label":"BBOX_DETECTOR"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_BBOX_Hand","properties":{"previousName":"BBOX_Hand"},"widgets_values":["BBOX_Hand"]},{"id":1065,"type":"SetNode","pos":[8710,2280],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":187,"mode":0,"inputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","link":2396,"label":"BBOX_DETECTOR"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_BBOX_Face","properties":{"previousName":"BBOX_Face"},"widgets_values":["BBOX_Face"]},{"id":1066,"type":"SetNode","pos":[8710,2430],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":235,"mode":0,"inputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","link":2397,"label":"SAM_MODEL"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_SAM_MODEL","properties":{"previousName":"SAM_MODEL"},"widgets_values":["SAM_MODEL"]},{"id":1160,"type":"Reroute","pos":[5640,-270],"size":[82,26],"flags":{},"order":497,"mode":0,"inputs":[{"name":"","type":"*","link":2567,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2568],"slot_index":0,"label":"*"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":129,"type":"GetNode","pos":[2390,-1350],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":1,"mode":4,"outputs":[{"name":"VAE","type":"VAE","links":[278],"slot_index":0,"label":"VAE"}],"title":"Get_Vae","properties":{},"widgets_values":["Vae"]},{"id":669,"type":"GetNode","pos":[2390,-1390],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":2,"mode":4,"outputs":[{"name":"CLIP","type":"CLIP","links":[2050],"slot_index":0,"label":"CLIP"}],"title":"Get_Clip","properties":{},"widgets_values":["Clip"]},{"id":1165,"type":"Reroute","pos":[4010,-240],"size":[82,26],"flags":{},"order":500,"mode":0,"inputs":[{"name":"","type":"*","link":4643,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2579],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1067,"type":"GetNode","pos":[3730,-870],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":3,"mode":4,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[2398],"slot_index":0,"label":"BBOX_DETECTOR"}],"title":"Get_BBOX_Hand","properties":{},"widgets_values":["BBOX_Hand"],"color":"#323","bgcolor":"#535"},{"id":254,"type":"GetNode","pos":[3920,-870],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":4,"mode":4,"outputs":[{"name":"CLIP","type":"CLIP","links":[532,2680,2696],"slot_index":0,"label":"CLIP"}],"title":"Get_Clip","properties":{},"widgets_values":["Clip"],"color":"#323","bgcolor":"#535"},{"id":253,"type":"GetNode","pos":[3780,-810],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":5,"mode":4,"outputs":[{"name":"MODEL","type":"MODEL","links":[531],"slot_index":0,"label":"MODEL"}],"title":"Get_Model (IPAdapter Out)","properties":{},"widgets_values":["Model (IPAdapter Out)"],"color":"#323","bgcolor":"#535"},{"id":255,"type":"GetNode","pos":[3730,-750],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":6,"mode":4,"outputs":[{"name":"VAE","type":"VAE","links":[533],"slot_index":0,"label":"VAE"}],"title":"Get_Vae","properties":{},"widgets_values":["Vae"],"color":"#323","bgcolor":"#535"},{"id":1261,"type":"DepthAnythingPreprocessor","pos":[3910,-680],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":190,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":2748,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2749],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"DepthAnythingPreprocessor"},"widgets_values":["depth_anything_vitl14.pth",768],"color":"#323","bgcolor":"#535"},{"id":1262,"type":"DWPreprocessor","pos":[3880,-750],"size":{"0":320,"1":200},"flags":{"collapsed":true},"order":191,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":2752,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2753],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"label":"POSE_KEYPOINT"}],"properties":{"Node name for S&R":"DWPreprocessor"},"widgets_values":["enable","disable","enable",1024,"yolox_l.onnx","dw-ll_ucoco_384_bs5.torchscript.pt"],"color":"#323","bgcolor":"#535"},{"id":1143,"type":"DF_Float","pos":[1220,2250],"size":{"0":250,"1":60},"flags":{},"order":7,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2533],"shape":3,"label":"FLOAT","slot_index":0}],"title":"Strength","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":316,"type":"Reroute","pos":[2410,-360],"size":[82,26],"flags":{},"order":480,"mode":0,"inputs":[{"name":"","type":"*","link":1563,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4471],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":812,"type":"FreeU_V2","pos":[2810,-180],"size":{"0":260,"1":130},"flags":{"collapsed":true},"order":418,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":3607,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2709],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"FreeU_V2"},"widgets_values":[1.3,1.4,0.9,0.2],"color":"#432","bgcolor":"#653"},{"id":202,"type":"PreviewImage","pos":[-240,1420],"size":{"0":220,"1":250},"flags":{},"order":327,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3965,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#332922","bgcolor":"#593930"},{"id":13,"type":"PreviewImage","pos":[10,1420],"size":{"0":210,"1":250},"flags":{},"order":196,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2302,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#332922","bgcolor":"#593930"},{"id":263,"type":"ControlNetLoader","pos":[4080,-1070],"size":{"0":320,"1":60},"flags":{},"order":8,"mode":4,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[523],"shape":3,"label":"CONTROL_NET"}],"title":"Load ControlNet Model (OpenPose)","properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_depth-fp16.safetensors"],"color":"#323","bgcolor":"#535"},{"id":1260,"type":"GetNode","pos":[3710,-680],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":9,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2748,2752],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image_Original","properties":{},"widgets_values":["Image_Original"],"color":"#323","bgcolor":"#535"},{"id":1258,"type":"ImpactControlNetApplySEGS","pos":[4070,-960],"size":{"0":320,"1":120},"flags":{},"order":489,"mode":4,"inputs":[{"name":"segs","type":"SEGS","link":2747,"label":"segs"},{"name":"control_net","type":"CONTROL_NET","link":2746,"label":"control_net","slot_index":1},{"name":"segs_preprocessor","type":"SEGS_PREPROCESSOR","link":null,"label":"segs_preprocessor","slot_index":2},{"name":"control_image","type":"IMAGE","link":2749,"label":"control_image"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[2750],"shape":3,"label":"SEGS","slot_index":0}],"properties":{"Node name for S&R":"ImpactControlNetApplySEGS"},"widgets_values":[1],"color":"#323","bgcolor":"#535"},{"id":262,"type":"ImpactControlNetApplySEGS","pos":[4080,-1240],"size":{"0":320,"1":120},"flags":{},"order":488,"mode":4,"inputs":[{"name":"segs","type":"SEGS","link":2737,"label":"segs"},{"name":"control_net","type":"CONTROL_NET","link":523,"label":"control_net","slot_index":1},{"name":"segs_preprocessor","type":"SEGS_PREPROCESSOR","link":null,"label":"segs_preprocessor","slot_index":2},{"name":"control_image","type":"IMAGE","link":2753,"label":"control_image"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[2745],"shape":3,"label":"SEGS","slot_index":0}],"properties":{"Node name for S&R":"ImpactControlNetApplySEGS"},"widgets_values":[1],"color":"#323","bgcolor":"#535"},{"id":1259,"type":"ControlNetLoader","pos":[4080,-780],"size":{"0":320,"1":60},"flags":{},"order":10,"mode":4,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2746],"shape":3,"label":"CONTROL_NET"}],"title":"Load ControlNet Model (Depth)","properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_depth-fp16.safetensors"],"color":"#323","bgcolor":"#535"},{"id":1446,"type":"SetNode","pos":[-220,1160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":365,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":3122,"label":"MASK"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Empty Mask","properties":{"previousName":"Empty Mask"},"widgets_values":["Empty Mask"]},{"id":26,"type":"PreviewImage","pos":[780,2520],"size":{"0":170,"1":250},"flags":{},"order":366,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3201,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":1284,"type":"GetNode","pos":[1800,2920],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":11,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2789,4329],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_Depth","properties":{},"widgets_values":["CN_Depth"],"color":"#233","bgcolor":"#355"},{"id":1442,"type":"ImageToMask","pos":[-920,1850],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":331,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3116,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[3117],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"],"color":"#332922","bgcolor":"#593930"},{"id":1495,"type":"DF_Float","pos":[1750,2870],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":192,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":3238,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3240],"shape":3,"label":"FLOAT","slot_index":0}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":1496,"type":"SimpleMath+","pos":[1870,2870],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":267,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":3241,"label":"a"},{"name":"b","type":"INT,FLOAT","link":3240,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT","slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[3242],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*b"],"color":"#233","bgcolor":"#355"},{"id":1071,"type":"GetNode","pos":[2430,-1900],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":12,"mode":4,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[2402],"slot_index":0,"label":"BBOX_DETECTOR"}],"title":"Get_BBOX_Face","properties":{},"widgets_values":["BBOX_Face"]},{"id":1449,"type":"GetNode","pos":[1620,2920],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":13,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[3124,4331],"slot_index":0,"label":"MASK"}],"title":"Get_Empty Mask","properties":{},"widgets_values":["Empty Mask"],"color":"#233","bgcolor":"#355"},{"id":982,"type":"MaskPreview+","pos":[-450,1420],"size":{"0":180,"1":250},"flags":{},"order":408,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3104,"label":"mask"}],"title":"蒙版预览","properties":{"Node name for S&R":"MaskPreview+"},"color":"#332922","bgcolor":"#593930"},{"id":1451,"type":"DF_Float","pos":[-700,1850],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":213,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":3127,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3128],"shape":3,"slot_index":0,"label":"FLOAT"}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[1],"color":"#332922","bgcolor":"#593930"},{"id":1450,"type":"SimpleMath+","pos":[-590,1850],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":281,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":3128,"label":"a"},{"name":"b","type":"INT,FLOAT","link":null,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT"},{"name":"FLOAT","type":"FLOAT","links":[3129],"shape":3,"slot_index":1,"label":"FLOAT"}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["1-(1-a)*0.5"],"color":"#332922","bgcolor":"#593930"},{"id":1436,"type":"DF_Float","pos":[830,2910],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":197,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":3105,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3107],"shape":3,"label":"FLOAT","slot_index":0}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":1494,"type":"GetNode","pos":[1540,2870],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":14,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3238],"slot_index":0,"label":"FLOAT"}],"title":"Get_CN Strenght","properties":{},"widgets_values":["CN Strenght"],"color":"#233","bgcolor":"#355"},{"id":344,"type":"Reroute","pos":[830,-480],"size":[140.8,26],"flags":{},"order":359,"mode":0,"inputs":[{"name":"","type":"*","link":3235,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[716],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":1049,"type":"GetNode","pos":[1680,3470],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":15,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2534],"slot_index":0,"label":"FLOAT"}],"title":"Get_CN Strenght","properties":{},"widgets_values":["CN Strenght"],"color":"#233","bgcolor":"#355"},{"id":1144,"type":"DF_Float","pos":[1880,3470],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":193,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":2534,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2538],"shape":3,"label":"FLOAT","slot_index":0}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":1035,"type":"SimpleMath+","pos":[2020,3470],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":268,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":2540,"label":"a"},{"name":"b","type":"INT,FLOAT","link":2538,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT","slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[2361],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*b"],"color":"#233","bgcolor":"#355"},{"id":1595,"type":"DF_Float","pos":[640,2270],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":204,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":3536,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3537],"shape":3,"label":"FLOAT","slot_index":0}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":357,"type":"InpaintPreprocessor","pos":[1420,3110],"size":{"0":210,"1":50},"flags":{},"order":269,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2757,"label":"image"},{"name":"mask","type":"MASK","link":1031,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[993,2417],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"InpaintPreprocessor"},"color":"#233","bgcolor":"#355"},{"id":358,"type":"InvertMask","pos":[1460,3220],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":194,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2770,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[1031],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"InvertMask"},"color":"#233","bgcolor":"#355"},{"id":1274,"type":"GetNode","pos":[1440,3270],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":16,"mode":0,"outputs":[{"name":"*","type":"*","links":[2770],"slot_index":0,"label":"*"}],"title":"Get_Main Mask","properties":{},"widgets_values":["Main Mask"],"color":"#233","bgcolor":"#355"},{"id":707,"type":"SetNode","pos":[5070,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":259,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":1607,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Mask Image","properties":{"previousName":"Mask Image"},"widgets_values":["Mask Image"]},{"id":1184,"type":"SetNode","pos":[5260,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":263,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":4492,"label":"FLOAT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Artistic adjustment","properties":{"previousName":"Artistic adjustment"},"widgets_values":["Artistic adjustment"]},{"id":998,"type":"SetNode","pos":[4910,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":289,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":2328,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Filtered images","properties":{"previousName":"Filtered images"},"widgets_values":["Filtered images"]},{"id":1020,"type":"SetNode","pos":[5890,1080],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":261,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":4494,"label":"FLOAT"}],"outputs":[{"name":"*","type":"*","links":null,"slot_index":0,"label":"*"}],"title":"Set_CN Strenght","properties":{"previousName":"CN Strenght"},"widgets_values":["CN Strenght"]},{"id":478,"type":"VAEDecode","pos":[2510,80],"size":{"0":210,"1":50},"flags":{},"order":453,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1050,"label":"samples"},{"name":"vae","type":"VAE","link":1051,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1923],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#432","bgcolor":"#653"},{"id":1231,"type":"PreviewImage","pos":[4930,-1240],"size":{"0":380,"1":250},"flags":{},"order":494,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":2695,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#323","bgcolor":"#535"},{"id":1146,"type":"DF_Float","pos":[1420,3350],"size":{"0":210,"1":70},"flags":{"collapsed":false},"order":17,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2540],"shape":3,"label":"FLOAT","slot_index":0}],"title":"Strength","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":50,"type":"Bounded Image Crop with Mask","pos":[2390,-2120],"size":{"0":270,"1":150},"flags":{},"order":316,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4184,"label":"image"},{"name":"mask","type":"MASK","link":60,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[422,3602],"shape":3,"label":"IMAGE","slot_index":0},{"name":"IMAGE_BOUNDS","type":"IMAGE_BOUNDS","links":null,"shape":3,"label":"IMAGE_BOUNDS"}],"properties":{"Node name for S&R":"Bounded Image Crop with Mask"},"widgets_values":[6,6,6,6],"color":"#223","bgcolor":"#335"},{"id":773,"type":"Reroute","pos":[1060,-250],"size":[82,26],"flags":{},"order":392,"mode":0,"inputs":[{"name":"","type":"*","link":4614,"label":""}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2619,3604],"slot_index":0,"label":"MODEL"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":845,"type":"IPAdapterUnifiedLoaderFaceID","pos":[2690,-2120],"size":{"0":280,"1":150},"flags":{},"order":393,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":4615,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":null,"label":"ipadapter"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2492],"shape":3,"label":"MODEL","slot_index":0},{"name":"ipadapter","type":"IPADAPTER","links":[2493,2497],"shape":3,"label":"ipadapter","slot_index":1}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoaderFaceID"},"widgets_values":["FACEID PLUS V2",0.6,"CPU"],"color":"#223","bgcolor":"#335"},{"id":1633,"type":"Reroute","pos":[1850,-250],"size":[82,26],"flags":{},"order":402,"mode":0,"inputs":[{"name":"","type":"*","link":3604,"label":""}],"outputs":[{"name":"MODEL","type":"MODEL","links":[3605,3606],"slot_index":0,"label":"MODEL"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1634,"type":"Reroute","pos":[2810,-250],"size":[82,26],"flags":{},"order":410,"mode":0,"inputs":[{"name":"","type":"*","link":3606,"label":""}],"outputs":[{"name":"MODEL","type":"MODEL","links":[3607],"slot_index":0,"label":"MODEL"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1069,"type":"GetNode","pos":[2390,-1310],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":18,"mode":4,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[2400],"slot_index":0,"label":"BBOX_DETECTOR"}],"title":"Get_BBOX_Face","properties":{},"widgets_values":["BBOX_Face"]},{"id":1070,"type":"GetNode","pos":[2390,-1270],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":19,"mode":4,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[2401],"slot_index":0,"label":"SAM_MODEL"}],"title":"Get_SAM_MODEL","properties":{},"widgets_values":["SAM_MODEL"]},{"id":345,"type":"Reroute","pos":[1890,-480],"size":[140.8,26],"flags":{},"order":369,"mode":0,"inputs":[{"name":"","type":"*","link":716,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[1865],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":399,"type":"Reroute","pos":[1890,-450],"size":[140.8,26],"flags":{},"order":344,"mode":0,"inputs":[{"name":"","type":"*","link":830,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[1866],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":397,"type":"Reroute","pos":[830,-450],"size":[140.8,26],"flags":{},"order":317,"mode":0,"inputs":[{"name":"","type":"*","link":881,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[830],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":1673,"type":"Reroute","pos":[2860,790],"size":[140.8,26],"flags":{},"order":448,"mode":0,"inputs":[{"name":"","type":"*","link":3704,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3705,3706],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":1674,"type":"Reroute","pos":[2860,820],"size":[140.8,26],"flags":{},"order":449,"mode":0,"inputs":[{"name":"","type":"*","link":3707,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3708,3709],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":1662,"type":"CR Conditioning Input Switch","pos":[3400,850],"size":{"0":330,"1":80},"flags":{"collapsed":true},"order":447,"mode":0,"inputs":[{"name":"conditioning1","type":"CONDITIONING","link":3650,"label":"conditioning1"},{"name":"conditioning2","type":"CONDITIONING","link":3671,"label":"conditioning2"},{"name":"Input","type":"INT","link":3653,"widget":{"name":"Input"},"label":"Input"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3707],"shape":3,"slot_index":0,"label":"CONDITIONING"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Conditioning Input Switch"},"widgets_values":[1],"color":"#322","bgcolor":"#533"},{"id":1671,"type":"Reroute","pos":[2040,790],"size":[140.8,26],"flags":{},"order":450,"mode":0,"inputs":[{"name":"","type":"*","link":3705,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3710],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":1148,"type":"DF_Float","pos":[1190,1570],"size":{"0":210,"1":70},"flags":{},"order":20,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2542],"shape":3,"label":"FLOAT","slot_index":0}],"title":"Strength","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.75],"color":"#233","bgcolor":"#355"},{"id":1255,"type":"SetNode","pos":[1830,2330],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":300,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":2743,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_OpenPose Image","properties":{"previousName":"OpenPose Image"},"widgets_values":["OpenPose Image"],"color":"#233","bgcolor":"#355"},{"id":19,"type":"PreviewImage","pos":[1500,1980],"size":{"0":210,"1":250},"flags":{},"order":299,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":17,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":1282,"type":"GetNode","pos":[1530,2340],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":21,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2787],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_OpenPose","properties":{},"widgets_values":["CN_OpenPose"],"color":"#233","bgcolor":"#355"},{"id":1608,"type":"Reroute","pos":[1580,2260],"size":[75,26],"flags":{},"order":221,"mode":0,"inputs":[{"name":"","type":"*","link":3562,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[3565],"slot_index":0,"label":"*"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#233","bgcolor":"#355"},{"id":1587,"type":"Reroute","pos":[1770,1040],"size":[75,26],"flags":{},"order":220,"mode":0,"inputs":[{"name":"","type":"*","link":3520,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[3521],"slot_index":0,"label":"*"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":18,"type":"DWPreprocessor","pos":[1220,1980],"size":{"0":250,"1":200},"flags":{},"order":229,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2760,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[16,17,2743],"shape":3,"label":"IMAGE","slot_index":0},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"label":"POSE_KEYPOINT"}],"properties":{"Node name for S&R":"DWPreprocessor"},"widgets_values":["enable","enable","enable",768,"yolox_l.onnx","dw-ll_ucoco_384_bs5.torchscript.pt"],"color":"#233","bgcolor":"#355"},{"id":1439,"type":"EmptyImage","pos":[-1080,1850],"size":{"0":320,"1":130},"flags":{"collapsed":true},"order":287,"mode":0,"inputs":[{"name":"width","type":"INT","link":3961,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":3962,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3116],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"EmptyImage"},"widgets_values":[512,512,1,16777215],"color":"#332922","bgcolor":"#593930"},{"id":48,"type":"BboxDetectorCombined_v2","pos":[2700,-1910],"size":{"0":270,"1":150},"flags":{},"order":270,"mode":4,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":2402,"label":"bbox_detector","slot_index":0},{"name":"image","type":"IMAGE","link":4185,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[60],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"BboxDetectorCombined_v2"},"widgets_values":[0.5,4],"color":"#223","bgcolor":"#335"},{"id":197,"type":"SetNode","pos":[5990,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":257,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":392,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Image_Face","properties":{"previousName":"Image_Face"},"widgets_values":["Image_Face"]},{"id":293,"type":"GetNode","pos":[2430,-1860],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":22,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4187],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image_Original","properties":{},"widgets_values":["Image_Original"]},{"id":203,"type":"GetNode","pos":[2430,-1820],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":23,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4186],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image_Face","properties":{},"widgets_values":["Image_Face"]},{"id":1866,"type":"Any Switch (rgthree)","pos":{"0":2430,"1":-1770,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":170,"1":110},"flags":{"collapsed":true},"order":195,"mode":4,"inputs":[{"name":"any_01","type":"IMAGE","link":4186,"dir":3,"label":"any_01"},{"name":"any_02","type":"IMAGE","link":4187,"dir":3,"label":"any_02"},{"name":"any_03","type":"IMAGE","link":null,"dir":3,"label":"any_03"},{"name":"any_04","type":"IMAGE","link":null,"dir":3,"label":"any_04"},{"name":"any_05","type":"IMAGE","link":null}],"outputs":[{"name":"*","type":"IMAGE","links":[4184,4185],"shape":3,"dir":4,"label":"IMAGE","slot_index":0}],"properties":{},"widgets_values":[]},{"id":124,"type":"SetNode","pos":[4770,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":279,"mode":0,"inputs":[{"name":"MODEL","type":"MODEL","link":2099,"label":"MODEL"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Model","properties":{"previousName":"Model"},"widgets_values":["Model"]},{"id":119,"type":"SetNode","pos":[4780,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":207,"mode":0,"inputs":[{"name":"VAE","type":"VAE","link":2168,"label":"VAE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Vae","properties":{"previousName":"Vae"},"widgets_values":["Vae"]},{"id":1266,"type":"SetNode","pos":[-30,1160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":406,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":2756,"label":"MASK"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Merge Mask","properties":{"previousName":"Merge Mask"},"widgets_values":["Merge Mask"]},{"id":1000,"type":"GetNode","pos":[140,1160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":24,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2302],"slot_index":0,"label":"IMAGE"}],"title":"Get_Filtered images","properties":{},"widgets_values":["Filtered images"]},{"id":1514,"type":"SetNode","pos":[-690,1120],"size":{"0":226.8000030517578,"1":58},"flags":{"collapsed":true},"order":399,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":3303,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Image (Full Character)","properties":{"previousName":"Image (Full Character)"},"widgets_values":["Image (Full Character)"]},{"id":1418,"type":"SetNode","pos":[-210,1120],"size":{"0":235.1999969482422,"1":58},"flags":{"collapsed":true},"order":417,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":3056,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Crop Image by Merge Mask","properties":{"previousName":"Crop Image by Merge Mask"},"widgets_values":["Crop Image by Merge Mask"]},{"id":196,"type":"SetNode","pos":[6230,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":255,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":391,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Image_Original","properties":{"previousName":"Image_Original"},"widgets_values":["Image_Original"]},{"id":1435,"type":"GetNode","pos":[660,2910],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":25,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3105],"slot_index":0,"label":"FLOAT"}],"title":"Get_CN Strenght","properties":{},"widgets_values":["CN Strenght"],"color":"#233","bgcolor":"#355"},{"id":1283,"type":"GetNode","pos":[1110,2910],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":26,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[4293],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_LineArt","properties":{},"widgets_values":["CN_LineArt"],"color":"#233","bgcolor":"#355"},{"id":1419,"type":"GetNode","pos":[490,2810],"size":{"0":235.1999969482422,"1":58},"flags":{"collapsed":true},"order":27,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4308],"slot_index":0,"label":"IMAGE"}],"title":"Get_Crop Image by Merge Mask","properties":{},"widgets_values":["Crop Image by Merge Mask"],"color":"#233","bgcolor":"#355"},{"id":1938,"type":"LineArtPreprocessor","pos":[490,2860],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":198,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4308,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4309],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",512],"color":"#233","bgcolor":"#355"},{"id":1277,"type":"SetNode","pos":[8800,1980],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":242,"mode":0,"inputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","link":2780,"label":"CONTROL_NET"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_CN_Depth","properties":{"previousName":"CN_Depth"},"widgets_values":["CN_Depth"]},{"id":1279,"type":"SetNode","pos":[8620,2020],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":241,"mode":0,"inputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","link":2782,"label":"CONTROL_NET"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_CN_LineArt","properties":{"previousName":"CN_LineArt"},"widgets_values":["CN_LineArt"]},{"id":1942,"type":"SetNode","pos":[8800,2020],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":243,"mode":0,"inputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","link":4314,"label":"CONTROL_NET"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_CN_Scribble","properties":{"previousName":"CN_Scribble"},"widgets_values":["CN_Scribble"]},{"id":1278,"type":"SetNode","pos":[8440,2020],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":244,"mode":0,"inputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","link":2781,"label":"CONTROL_NET"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_CN_OpenPose","properties":{"previousName":"CN_OpenPose"},"widgets_values":["CN_OpenPose"]},{"id":1915,"type":"GrowMask","pos":[490,2730],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":227,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4264,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[4265],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[3,true],"color":"#233","bgcolor":"#355"},{"id":1532,"type":"ACN_AdvancedControlNetApply","pos":[2730,1420],"size":{"0":340,"1":290},"flags":{},"order":377,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":3645,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":3646,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":3383,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":3382,"label":"image"},{"name":"mask_optional","type":"MASK","link":4475,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"strength","type":"FLOAT","link":3444,"widget":{"name":"strength"},"label":"strength"},{"name":"end_percent","type":"FLOAT","link":3443,"widget":{"name":"end_percent"},"label":"end_percent"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4315],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4316],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,0.6,""],"color":"#233","bgcolor":"#355"},{"id":1412,"type":"OutlineMask","pos":[620,2730],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":297,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4265,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[3066],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"OutlineMask"},"widgets_values":[1,true],"color":"#233","bgcolor":"#355"},{"id":1448,"type":"GetNode","pos":[490,2640],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":28,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[4322],"slot_index":0,"label":"MASK"}],"title":"Get_Empty Mask","properties":{},"widgets_values":["Empty Mask"],"color":"#233","bgcolor":"#355"},{"id":396,"type":"SetNode","pos":[-460,1120],"size":{"0":218.39999389648438,"1":58},"flags":{"collapsed":true},"order":405,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":2589,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Image Merge(Character)","properties":{"previousName":"Image Merge(Character)"},"widgets_values":["Image Merge(Character)"]},{"id":1939,"type":"SetNode","pos":[40,1120],"size":{"0":235.1999969482422,"1":58},"flags":{"collapsed":true},"order":400,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":4341,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Image (Character Prompt)","properties":{"previousName":"Image (Character Prompt)"},"widgets_values":["Image (Character Prompt)"]},{"id":687,"type":"Seed (rgthree)","pos":{"0":3200,"1":-1530,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":300,"1":130},"flags":{},"order":29,"mode":4,"inputs":[],"outputs":[{"name":"SEED","type":"INT","links":[1566],"shape":3,"label":"SEED","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Seed (rgthree)"},"widgets_values":[231639529433879,null,null,null],"color":"#323","bgcolor":"#535"},{"id":451,"type":"GetNode","pos":[50,80],"size":{"0":218.39999389648438,"1":58},"flags":{"collapsed":true},"order":30,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[1001],"slot_index":0,"label":"STRING"}],"title":"Get_Prompt  (Head & Style)","properties":{},"widgets_values":["Prompt  (Head & Style)"],"color":"#432","bgcolor":"#653"},{"id":420,"type":"GetNode","pos":[60,140],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":31,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3219],"slot_index":0,"label":"STRING"}],"title":"Get_Prompt (Background)","properties":{},"widgets_values":["Prompt (Background)"],"color":"#432","bgcolor":"#653"},{"id":419,"type":"Text Concatenate","pos":[300,110],"size":{"0":210,"1":240},"flags":{"collapsed":true},"order":199,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":1001,"widget":{"name":"text_a"},"label":"text_a"},{"name":"text_b","type":"STRING","link":3219,"widget":{"name":"text_b"},"label":"text_b"},{"name":"text_c","type":"STRING","link":null,"widget":{"name":"text_c"},"label":"text_c"},{"name":"text_d","type":"STRING","link":null,"widget":{"name":"text_d"},"label":"text_d"}],"outputs":[{"name":"STRING","type":"STRING","links":[884],"shape":3,"label":"STRING","slot_index":0}],"properties":{"Node name for S&R":"Text Concatenate"},"widgets_values":[", ","true","","","",""],"color":"#432","bgcolor":"#653"},{"id":354,"type":"GetNode","pos":[50,220],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":32,"mode":0,"outputs":[{"name":"CLIP","type":"CLIP","links":[1549],"slot_index":0,"label":"CLIP"}],"title":"Get_Clip","properties":{},"widgets_values":["Clip"],"color":"#432","bgcolor":"#653"},{"id":1479,"type":"GetNode","pos":[180,320],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":33,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3186],"slot_index":0,"label":"STRING"}],"title":"Get_Foreground Prompt","properties":{},"widgets_values":["Foreground Prompt"],"color":"#432","bgcolor":"#653"},{"id":1964,"type":"GetNode","pos":[50,500],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":34,"mode":0,"outputs":[{"name":"*","type":"*","links":[4366],"slot_index":0,"label":"*"}],"title":"Get_Main Mask","properties":{},"widgets_values":["Main Mask"],"color":"#432","bgcolor":"#653"},{"id":1488,"type":"CLIPTextEncode","pos":[500,440],"size":{"0":210,"1":100},"flags":{"collapsed":true},"order":275,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3213,"label":"clip"},{"name":"text","type":"STRING","link":3208,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3228],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Photography girl , realistic, outdoors, sky, water, tree, ocean, scenery, snow, sunset, horizon, winter, bare_tree, shore"],"color":"#432","bgcolor":"#653"},{"id":1483,"type":"GetNode","pos":[40,390],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":35,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[3563,4367],"slot_index":0,"label":"MASK"}],"title":"Get_Foreground mask","properties":{},"widgets_values":["Foreground mask"],"color":"#432","bgcolor":"#653"},{"id":1609,"type":"GrowMask","pos":[260,390],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":201,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3563,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[3564],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[20,true],"color":"#432","bgcolor":"#653"},{"id":1911,"type":"GetNode","pos":[770,170],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":36,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4243],"slot_index":0,"label":"INT"}],"title":"Get_Batch Size","properties":{},"widgets_values":["Batch Size"],"color":"#432","bgcolor":"#653"},{"id":417,"type":"GetNode","pos":[180,270],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":37,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[876],"slot_index":0,"label":"STRING"}],"title":"Get_Prompt (Negative)","properties":{},"widgets_values":["Prompt (Negative)"],"color":"#432","bgcolor":"#653"},{"id":372,"type":"GetNode","pos":[190,440],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":38,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3208],"slot_index":0,"label":"STRING"}],"title":"Get_Prompt  (Character)","properties":{},"widgets_values":["Prompt  (Character)"],"color":"#432","bgcolor":"#653"},{"id":1270,"type":"GetNode","pos":[1390,2540],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":39,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2764],"slot_index":0,"label":"IMAGE"}],"title":"Get_Scaled Original Image","properties":{},"widgets_values":["Scaled Original Image"],"color":"#233","bgcolor":"#355"},{"id":494,"type":"ScaledSoftControlNetWeights","pos":[760,2320],"size":{"0":250,"1":100},"flags":{"collapsed":true},"order":325,"mode":0,"inputs":[{"name":"base_multiplier","type":"FLOAT","link":2487,"widget":{"name":"base_multiplier"},"label":"base_multiplier"}],"outputs":[{"name":"CN_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":null,"shape":3,"label":"CN_WEIGHTS"},{"name":"TK_SHORTCUT","type":"TIMESTEP_KEYFRAME","links":[1079,2482],"shape":3,"label":"TK_SHORTCUT","slot_index":1}],"properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.9500000000000001,true,1,""],"color":"#233","bgcolor":"#355"},{"id":1594,"type":"GetNode","pos":[570,2320],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":40,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3536],"slot_index":0,"label":"FLOAT"}],"title":"Get_CN Strenght","properties":{},"widgets_values":["CN Strenght"],"color":"#233","bgcolor":"#355"},{"id":1084,"type":"PreviewImage","pos":[1650,3090],"size":{"0":180,"1":250},"flags":{},"order":315,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2417,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":1512,"type":"EmptyImage","pos":[-930,1910],"size":{"0":290,"1":150},"flags":{"collapsed":true},"order":330,"mode":0,"inputs":[{"name":"width","type":"INT","link":3967,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":3968,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3295],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"EmptyImage"},"widgets_values":[512,512,1,6776679],"color":"#332922","bgcolor":"#593930"},{"id":1414,"type":"ImageCompositeFromMaskBatch+","pos":[-440,1740],"size":{"0":190,"1":70},"flags":{"collapsed":true},"order":407,"mode":0,"inputs":[{"name":"image_from","type":"IMAGE","link":3053,"label":"image_from"},{"name":"image_to","type":"IMAGE","link":3963,"label":"image_to"},{"name":"mask","type":"MASK","link":3060,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3056],"shape":3,"label":"IMAGE","slot_index":0}],"title":"🔧 Image Composite","properties":{"Node name for S&R":"ImageCompositeFromMaskBatch+"},"color":"#332922","bgcolor":"#593930"},{"id":526,"type":"GetNode","pos":[770,120],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":41,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3981],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image_Original","properties":{},"widgets_values":["Image_Original"],"color":"#432","bgcolor":"#653"},{"id":250,"type":"EmptyLatentImage","pos":[950,170],"size":{"0":270,"1":130},"flags":{"collapsed":true},"order":301,"mode":0,"inputs":[{"name":"width","type":"INT","link":3984,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":3985,"widget":{"name":"height"},"label":"height"},{"name":"batch_size","type":"INT","link":4243,"widget":{"name":"batch_size"},"label":"batch_size"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[759],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,512,1],"color":"#432","bgcolor":"#653"},{"id":114,"type":"Reroute","pos":[1980,930],"size":[140.8,26],"flags":{},"order":422,"mode":0,"inputs":[{"name":"","type":"*","link":4568,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4374],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":115,"type":"Reroute","pos":[1980,960],"size":[140.8,26],"flags":{},"order":423,"mode":0,"inputs":[{"name":"","type":"*","link":4569,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4375],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":1969,"type":"Reroute","pos":[1300,960],"size":[140.8,26],"flags":{},"order":425,"mode":0,"inputs":[{"name":"","type":"*","link":4375,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4377],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":1968,"type":"Reroute","pos":[1300,930],"size":[140.8,26],"flags":{},"order":424,"mode":0,"inputs":[{"name":"","type":"*","link":4374,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4376],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":8,"type":"VAEDecode","pos":[1490,430],"size":{"0":230,"1":50},"flags":{},"order":427,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":670,"label":"samples"},{"name":"vae","type":"VAE","link":734,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[762,4378],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#432","bgcolor":"#653"},{"id":1675,"type":"ACN_AdvancedControlNetApply","pos":[2690,2230],"size":{"0":340,"1":290},"flags":{"collapsed":false},"order":439,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4401,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4402,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":3716,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":3717,"label":"image"},{"name":"mask_optional","type":"MASK","link":null,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":3807,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override","slot_index":7},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"vae_optional","type":"VAE","link":null,"label":"vae_optional"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[3808],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[3809],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1,""],"color":"#233","bgcolor":"#355"},{"id":1507,"type":"PreviewImage","pos":[3390,1420],"size":{"0":170,"1":250},"flags":{},"order":438,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4382,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":21,"type":"ACN_AdvancedControlNetApply","pos":[990,2530],"size":{"0":290,"1":290},"flags":{},"order":371,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4564,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4565,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":4293,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":3200,"label":"image"},{"name":"mask_optional","type":"MASK","link":4413,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":3924,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"strength","type":"FLOAT","link":3108,"widget":{"name":"strength"},"label":"strength"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4393],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4394],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.8,0,1,""],"color":"#233","bgcolor":"#355"},{"id":355,"type":"ACN_AdvancedControlNetApply","pos":[1860,3090],"size":{"0":290,"1":290},"flags":{},"order":378,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4393,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4394,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":2784,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":993,"label":"image"},{"name":"mask_optional","type":"MASK","link":2765,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":1079,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"strength","type":"FLOAT","link":2361,"widget":{"name":"strength"},"label":"strength"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4395],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4396],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.7000000000000001,0,1,""],"color":"#233","bgcolor":"#355"},{"id":1659,"type":"Reroute","pos":[2450,860],"size":[140.8,26],"flags":{},"order":370,"mode":0,"inputs":[{"name":"","type":"*","link":3643,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3645,4401],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":1660,"type":"Reroute","pos":[2450,890],"size":[140.8,26],"flags":{},"order":345,"mode":0,"inputs":[{"name":"","type":"*","link":3644,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3646,4402],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":1701,"type":"ACN_AdvancedControlNetApply","pos":[3340,2230],"size":{"0":340,"1":290},"flags":{"collapsed":false},"order":443,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":3808,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":3809,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":3819,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":3823,"label":"image"},{"name":"mask_optional","type":"MASK","link":null,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":3820,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override","slot_index":7},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"vae_optional","type":"VAE","link":null,"label":"vae_optional"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4403],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4404],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.75,0,1,""],"color":"#233","bgcolor":"#355"},{"id":1976,"type":"SetNode","pos":[6050,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":206,"mode":0,"inputs":[{"name":"INT","type":"INT","link":4407,"label":"INT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_FirstSampling_Size","properties":{"previousName":"FirstSampling_Size"},"widgets_values":["FirstSampling_Size"]},{"id":1761,"type":"ImageResize+","pos":[960,120],"size":{"0":320,"1":220},"flags":{"collapsed":true},"order":231,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3981,"label":"image"},{"name":"width","type":"INT","link":4408,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":4409,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3,"label":"IMAGE"},{"name":"width","type":"INT","links":[3984],"shape":3,"slot_index":1,"label":"width"},{"name":"height","type":"INT","links":[3985],"shape":3,"slot_index":2,"label":"height"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[712,712,"nearest","keep proportion","always",0],"color":"#432","bgcolor":"#653"},{"id":53,"type":"FaceDetailer","pos":[2590,-1550],"size":{"0":510,"1":900},"flags":{},"order":479,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":3597,"label":"image"},{"name":"model","type":"MODEL","link":2558,"label":"model"},{"name":"clip","type":"CLIP","link":2050,"label":"clip"},{"name":"vae","type":"VAE","link":278,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":1865,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":1866,"label":"negative"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":2400,"label":"bbox_detector","slot_index":6},{"name":"sam_model_opt","type":"SAM_MODEL","link":2401,"label":"sam_model_opt","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"},{"name":"seed","type":"INT","link":1566,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"image","type":"IMAGE","links":[1563],"shape":3,"label":"image","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":[79],"shape":6,"label":"cropped_refined","slot_index":1},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":[80],"shape":6,"label":"cropped_enhanced_alpha","slot_index":2},{"name":"mask","type":"MASK","links":[82],"shape":3,"label":"mask","slot_index":3},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"detailer_pipe"},{"name":"cnet_images","type":"IMAGE","links":[81],"shape":6,"label":"cnet_images","slot_index":5}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[384,true,1024,244018534501701,"randomize",20,8,"dpmpp_2m","karras",0.5,10,true,true,0.5,12,3,"center-1",6,0.93,0,0.7,"False",10,"",1,false,0],"color":"#323","bgcolor":"#535"},{"id":1188,"type":"PerturbedAttentionGuidance","pos":[1210,120],"size":{"0":220,"1":60},"flags":{"collapsed":true},"order":401,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2619,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2614],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"PerturbedAttentionGuidance"},"widgets_values":[3],"color":"#432","bgcolor":"#653"},{"id":1189,"type":"PerturbedAttentionGuidance","pos":[1890,100],"size":{"0":220,"1":60},"flags":{"collapsed":true},"order":409,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":3605,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2616],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"PerturbedAttentionGuidance"},"widgets_values":[3],"color":"#432","bgcolor":"#653"},{"id":1190,"type":"PerturbedAttentionGuidance","pos":[2860,110],"size":{"0":220,"1":60},"flags":{"collapsed":true},"order":420,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2709,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2618],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"PerturbedAttentionGuidance"},"widgets_values":[3],"color":"#432","bgcolor":"#653"},{"id":796,"type":"LatentUpscaleBy","pos":[2890,170],"size":{"0":270,"1":80},"flags":{"collapsed":true},"order":454,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":2841,"label":"samples"},{"name":"scale_by","type":"FLOAT","link":4199,"widget":{"name":"scale_by"},"label":"scale_by"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1882],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"LatentUpscaleBy"},"widgets_values":["bicubic",1.45],"color":"#432","bgcolor":"#653"},{"id":794,"type":"GetNode","pos":[2920,230],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":42,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[1883],"slot_index":0,"label":"INT"}],"title":"Get_Seed","properties":{},"widgets_values":["Seed"],"color":"#432","bgcolor":"#653"},{"id":603,"type":"LatentUpscaleBy","pos":[1910,160],"size":{"0":240,"1":80},"flags":{"collapsed":true},"order":428,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1808,"label":"samples"},{"name":"scale_by","type":"FLOAT","link":4198,"widget":{"name":"scale_by"},"label":"scale_by"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[3479],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"LatentUpscaleBy"},"widgets_values":["bicubic",1.45],"color":"#432","bgcolor":"#653"},{"id":481,"type":"GetNode","pos":[1940,230],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":43,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[1057],"slot_index":0,"label":"INT"}],"title":"Get_Seed","properties":{},"widgets_values":["Seed"],"color":"#432","bgcolor":"#653"},{"id":1974,"type":"DF_Integer","pos":[4910,1940],"size":{"0":300,"1":60},"flags":{"pinned":true},"order":44,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4414],"shape":3,"slot_index":0,"label":"INT"}],"title":"生成图片分辨率","properties":{"Node name for S&R":"DF_Integer"},"widgets_values":[1500],"color":"#432","bgcolor":"#653"},{"id":1973,"type":"DF_Integer","pos":[4910,1840],"size":{"0":300,"1":60},"flags":{"pinned":true},"order":45,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4407],"shape":3,"slot_index":0,"label":"INT"}],"title":"初始采样分辨率—提高可增强细节处理","properties":{"Node name for S&R":"DF_Integer"},"widgets_values":[712],"color":"#432","bgcolor":"#653"},{"id":658,"type":"VAELoader","pos":[4580,1590],"size":{"0":300,"1":60},"flags":{"pinned":true},"order":46,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[2168],"shape":3,"label":"VAE","slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["stable-diffusion-vaes/vae-ft-mse-840000-ema-pruned.safetensors"],"color":"#432","bgcolor":"#653"},{"id":1908,"type":"DF_Integer","pos":[4910,1740],"size":{"0":300,"1":60},"flags":{"pinned":true},"order":47,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4242],"shape":3,"slot_index":0,"label":"INT"}],"title":"生成图片数量","properties":{"Node name for S&R":"DF_Integer"},"widgets_values":[1],"color":"#432","bgcolor":"#653"},{"id":1139,"type":"Fast Groups Bypasser (rgthree)","pos":{"0":4580,"1":1690,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":300,"1":180},"flags":{"pinned":true},"order":48,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":[],"label":"OPT_CONNECTION","slot_index":0}],"title":"不需要处理人物时关闭下列群组","properties":{"matchColors":"","matchTitle":"PO_","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#432","bgcolor":"#653"},{"id":260,"type":"UltralyticsDetectorProvider","pos":[8340,2120],"size":{"0":320,"1":80},"flags":{},"order":49,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[2395],"shape":3,"label":"BBOX_DETECTOR","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/hand_yolov8s.pt"],"color":"#332922","bgcolor":"#593930"},{"id":676,"type":"Seed (rgthree)","pos":{"0":4910,"1":2040,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":300,"1":130},"flags":{"pinned":true},"order":50,"mode":0,"inputs":[],"outputs":[{"name":"SEED","type":"INT","links":[1528],"shape":3,"label":"SEED","dir":4,"slot_index":0}],"title":"生成种子","properties":{"Node name for S&R":"Seed (rgthree)"},"widgets_values":[102148941760741,null,null,null],"color":"#432","bgcolor":"#653"},{"id":776,"type":"Lora Loader Stack (rgthree)","pos":[4910,1450],"size":{"0":300,"1":250},"flags":{"pinned":true},"order":211,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1809,"label":"model"},{"name":"clip","type":"CLIP","link":2285,"label":"clip"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2099],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[2287],"shape":3,"label":"CLIP","slot_index":1}],"properties":{"Node name for S&R":"Lora Loader Stack (rgthree)"},"widgets_values":["None",0.6,"None",1,"None",1,"None",1],"color":"#432","bgcolor":"#653"},{"id":4,"type":"CheckpointLoaderSimple","pos":[4580,1450],"size":{"0":300,"1":100},"flags":{"pinned":true},"order":51,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[1809],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[2285],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SD15_Models/dreamshaper_8.safetensors"],"color":"#432","bgcolor":"#653"},{"id":1153,"type":"DF_Float","pos":[490,2530],"size":{"0":220,"1":60},"flags":{"collapsed":false},"order":52,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3106],"shape":3,"label":"FLOAT","slot_index":0}],"title":"Strength","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":1281,"type":"GetNode","pos":[500,1990],"size":{"0":270,"1":60},"flags":{"collapsed":false},"order":53,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2784,2786],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_InPaint","properties":{},"widgets_values":["CN_InPaint"],"color":"#233","bgcolor":"#355"},{"id":1886,"type":"GetNode","pos":[870,450],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":54,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4415],"slot_index":0,"label":"INT"}],"title":"Get_Gen_Max_Size","properties":{},"widgets_values":["Gen_Max_Size"],"color":"#432","bgcolor":"#653"},{"id":1981,"type":"DF_Int_to_Float","pos":[1080,450],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":212,"mode":0,"inputs":[{"name":"Value","type":"INT","link":4415,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4416],"shape":3,"slot_index":0,"label":"FLOAT"}],"properties":{"Node name for S&R":"DF_Int_to_Float"},"widgets_values":[1],"color":"#432","bgcolor":"#653"},{"id":1263,"type":"SetNode","pos":[-400,1160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":389,"mode":0,"inputs":[{"name":"*","type":"*","link":2754,"label":"*"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Main Mask","properties":{"previousName":"Main Mask"},"widgets_values":["Main Mask"]},{"id":1910,"type":"SetNode","pos":[5450,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":208,"mode":0,"inputs":[{"name":"INT","type":"INT","link":4242,"label":"INT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Batch Size","properties":{"previousName":"Batch Size"},"widgets_values":["Batch Size"]},{"id":708,"type":"GetNode","pos":[-860,2090],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":55,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3991],"slot_index":0,"label":"IMAGE"}],"title":"Get_Mask Image","properties":{},"widgets_values":["Mask Image"],"color":"#332922","bgcolor":"#593930"},{"id":908,"type":"SetNode","pos":[6160,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":256,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":2179,"label":"MASK"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_mask","properties":{"previousName":"mask"},"widgets_values":["mask"]},{"id":1766,"type":"ImageResize+","pos":[-830,2190],"size":{"0":320,"1":220},"flags":{"collapsed":true},"order":214,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":3991,"label":"image"},{"name":"width","type":"INT","link":4423,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":4424,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3995],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"width","type":"INT","links":[],"shape":3,"slot_index":1,"label":"width"},{"name":"height","type":"INT","links":[],"shape":3,"slot_index":2,"label":"height"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[512,512,"nearest","keep proportion","always",0],"color":"#332922","bgcolor":"#593930"},{"id":490,"type":"ImageToMask","pos":[-840,2240],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":282,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":3995,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[4438],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"],"color":"#332922","bgcolor":"#593930"},{"id":1170,"type":"RemapMaskRange","pos":[-650,1740],"size":{"0":210,"1":100},"flags":{"collapsed":true},"order":397,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4441,"label":"mask"},{"name":"max","type":"FLOAT","link":2611,"widget":{"name":"max"},"label":"max"}],"outputs":[{"name":"mask","type":"MASK","links":[2756,3060,3104],"shape":3,"slot_index":0,"label":"mask"}],"properties":{"Node name for S&R":"RemapMaskRange"},"widgets_values":[0,1],"color":"#332922","bgcolor":"#593930"},{"id":1187,"type":"GetNode","pos":[-920,1790],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":56,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2611,3127],"slot_index":0,"label":"FLOAT"}],"title":"Get_Artistic adjustment","properties":{},"widgets_values":["Artistic adjustment"],"color":"#332922","bgcolor":"#593930"},{"id":168,"type":"EmptyImage","pos":[-690,1790],"size":{"0":250,"1":150},"flags":{"collapsed":true},"order":329,"mode":0,"inputs":[{"name":"width","type":"INT","link":3959,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":3960,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[340,3053,4337],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"EmptyImage"},"widgets_values":[512,512,1,6776679],"color":"#332922","bgcolor":"#593930"},{"id":1983,"type":"GetNode","pos":[-1070,1120],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":57,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4417,4418,4423,4424],"slot_index":0,"label":"INT"}],"title":"Get_Gen_Max_Size","properties":{},"widgets_values":["Gen_Max_Size"]},{"id":1425,"type":"SetNode","pos":[-880,1120],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":332,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":4449,"label":"MASK"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Foreground mask","properties":{"previousName":"Foreground mask"},"widgets_values":["Foreground mask"]},{"id":201,"type":"GetNode","pos":[-1210,1160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":58,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3975],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image_Original","properties":{},"widgets_values":["Image_Original"]},{"id":910,"type":"GetNode","pos":[-1020,1160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":59,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[4445],"slot_index":0,"label":"MASK"}],"title":"Get_mask","properties":{},"widgets_values":["mask"]},{"id":1755,"type":"ImageResize+","pos":[-1090,1430],"size":{"0":280,"1":210},"flags":{"collapsed":false},"order":215,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3975,"label":"image"},{"name":"width","type":"INT","link":4417,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":4418,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3954,3976],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"width","type":"INT","links":[3961,4446,4450],"shape":3,"slot_index":1,"label":"width"},{"name":"height","type":"INT","links":[3956,3962,4447],"shape":3,"slot_index":2,"label":"height"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[512,512,"nearest","keep proportion","always",0],"color":"#332922","bgcolor":"#593930"},{"id":1996,"type":"ResizeMask","pos":[-740,1420],"size":{"0":250,"1":130},"flags":{"collapsed":false},"order":288,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4445,"label":"mask"},{"name":"width","type":"INT","link":4446,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":4447,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"mask","type":"MASK","links":[4448,4449],"shape":3,"slot_index":0,"label":"mask"},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ResizeMask"},"widgets_values":[512,512,false],"color":"#332922","bgcolor":"#593930"},{"id":163,"type":"ImageCompositeFromMaskBatch+","pos":[-740,1600],"size":{"0":250,"1":70},"flags":{"collapsed":false},"order":396,"mode":0,"inputs":[{"name":"image_from","type":"IMAGE","link":340,"label":"image_from"},{"name":"image_to","type":"IMAGE","link":3964,"label":"image_to"},{"name":"mask","type":"MASK","link":4440,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2589],"shape":3,"label":"IMAGE","slot_index":0}],"title":"🔧 Image Composite","properties":{"Node name for S&R":"ImageCompositeFromMaskBatch+"},"color":"#332922","bgcolor":"#593930"},{"id":1949,"type":"ImageCompositeFromMaskBatch+","pos":[-490,1790],"size":{"0":290,"1":70},"flags":{"collapsed":true},"order":391,"mode":0,"inputs":[{"name":"image_from","type":"IMAGE","link":4337,"label":"image_from"},{"name":"image_to","type":"IMAGE","link":4338,"label":"image_to"},{"name":"mask","type":"MASK","link":4340,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4341],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeFromMaskBatch+"},"color":"#332922","bgcolor":"#593930"},{"id":1441,"type":"RemapMaskRange","pos":[-420,1850],"size":{"0":210,"1":100},"flags":{"collapsed":true},"order":352,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3117,"label":"mask"},{"name":"max","type":"FLOAT","link":3129,"widget":{"name":"max"},"label":"max"}],"outputs":[{"name":"mask","type":"MASK","links":[3122],"shape":3,"slot_index":0,"label":"mask"}],"properties":{"Node name for S&R":"RemapMaskRange"},"widgets_values":[0,1],"color":"#332922","bgcolor":"#593930"},{"id":1995,"type":"GrowMaskWithBlur","pos":[-880,2310],"size":{"0":250,"1":250},"flags":{},"order":326,"mode":4,"inputs":[{"name":"mask","type":"MASK","link":4438,"label":"mask"}],"outputs":[{"name":"mask","type":"MASK","links":[4439],"shape":3,"slot_index":0,"label":"mask"},{"name":"mask_inverted","type":"MASK","links":null,"shape":3,"label":"mask_inverted"}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[-2,0,false,false,0,1,1,false],"color":"#332922","bgcolor":"#593930"},{"id":1164,"type":"Reroute","pos":[5640,-420],"size":[82,26],"flags":{},"order":495,"mode":0,"inputs":[{"name":"","type":"*","link":2574,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2575],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":792,"type":"VAEDecode","pos":[3500,90],"size":{"0":190,"1":50},"flags":{},"order":458,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1879,"label":"samples"},{"name":"vae","type":"VAE","link":1880,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2570],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#432","bgcolor":"#653"},{"id":1578,"type":"SetNode","pos":[-650,1160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":398,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":4442,"label":"MASK"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Merge Mask (no remap)","properties":{"previousName":"Merge Mask (no remap)"},"widgets_values":["Merge Mask (no remap)"]},{"id":1665,"type":"SetNode","pos":[6410,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":260,"mode":0,"inputs":[{"name":"INT","type":"INT","link":3651,"label":"INT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Illustration Mode","properties":{"previousName":"Illustration Mode"},"widgets_values":["Illustration Mode"]},{"id":999,"type":"GetNode","pos":[5100,1080],"size":{"0":218.39999389648438,"1":58},"flags":{"collapsed":true},"order":60,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2324],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image (Full Character)","properties":{},"widgets_values":["Image (Full Character)"]},{"id":125,"type":"SetNode","pos":[4660,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":280,"mode":0,"inputs":[{"name":"CLIP","type":"CLIP","link":2287,"label":"CLIP"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Clip","properties":{"previousName":"Clip"},"widgets_values":["Clip"]},{"id":198,"type":"SetNode","pos":[5790,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":314,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":4239,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Image_BKG","properties":{"previousName":"Image_BKG"},"widgets_values":["Image_BKG"]},{"id":1980,"type":"SetNode","pos":[5320,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":205,"mode":0,"inputs":[{"name":"INT","type":"INT","link":4414,"label":"INT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Gen_Max_Size","properties":{"previousName":"Gen_Max_Size"},"widgets_values":["Gen_Max_Size"]},{"id":2000,"type":"SetNode","pos":[5700,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":470,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":4457,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_FixImage","properties":{"previousName":"FixImage"},"widgets_values":["FixImage"]},{"id":259,"type":"ImpactSimpleDetectorSEGS","pos":[3730,-1240],"size":{"0":320,"1":310},"flags":{},"order":487,"mode":4,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":2398,"label":"bbox_detector","slot_index":0},{"name":"image","type":"IMAGE","link":4461,"label":"image"},{"name":"sam_model_opt","type":"SAM_MODEL","link":null,"label":"sam_model_opt","slot_index":2},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[2737,2747],"shape":3,"label":"SEGS","slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.5,10,3,10,0.5,10,0,0.7,0],"color":"#323","bgcolor":"#535"},{"id":685,"type":"Reroute","pos":[4130,-360],"size":[82,26],"flags":{},"order":485,"mode":0,"inputs":[{"name":"","type":"*","link":4471,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1861,2105,4461],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1163,"type":"Reroute","pos":[5000,-420],"size":[82,26],"flags":{},"order":492,"mode":0,"inputs":[{"name":"","type":"*","link":2573,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2574],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":60,"type":"PreviewImage","pos":[3370,-1340],"size":{"0":210,"1":250},"flags":{},"order":482,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":80,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#323","bgcolor":"#535"},{"id":59,"type":"PreviewImage","pos":[3140,-1340],"size":{"0":210,"1":250},"flags":{},"order":481,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":79,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#323","bgcolor":"#535"},{"id":62,"type":"MaskPreview+","pos":[3140,-1030],"size":{"0":210,"1":250},"flags":{},"order":483,"mode":4,"inputs":[{"name":"mask","type":"MASK","link":82,"label":"mask"}],"properties":{"Node name for S&R":"MaskPreview+"},"color":"#323","bgcolor":"#535"},{"id":61,"type":"PreviewImage","pos":[3370,-1030],"size":{"0":210,"1":250},"flags":{},"order":484,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":81,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#323","bgcolor":"#535"},{"id":317,"type":"Reroute","pos":[5640,-390],"size":[82,26],"flags":{},"order":462,"mode":0,"inputs":[{"name":"","type":"*","link":2571,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2394,2576,4464],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1226,"type":"GetImageSize+","pos":[5510,1080],"size":{"0":210,"1":70},"flags":{"collapsed":true},"order":465,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4464,"label":"image"}],"outputs":[{"name":"width","type":"INT","links":[3977],"shape":3,"slot_index":0,"label":"width"},{"name":"height","type":"INT","links":[3978],"shape":3,"slot_index":1,"label":"height"},{"name":"count","type":"INT","links":null,"shape":3,"label":"count"}],"properties":{"Node name for S&R":"GetImageSize+"}},{"id":1162,"type":"Reroute","pos":[3680,-390],"size":[82,26],"flags":{},"order":460,"mode":0,"inputs":[{"name":"","type":"*","link":2570,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2571,4465],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1580,"type":"Reroute","pos":[2490,1040],"size":[75,26],"flags":{},"order":292,"mode":0,"inputs":[{"name":"","type":"*","link":3521,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[4475],"slot_index":0,"label":"*"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":333,"type":"KSampler","pos":[1450,90],"size":{"0":320,"1":450},"flags":{},"order":426,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2614,"label":"model"},{"name":"positive","type":"CONDITIONING","link":4376,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4377,"label":"negative"},{"name":"latent_image","type":"LATENT","link":759,"label":"latent_image"},{"name":"seed","type":"INT","link":669,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[670,1808],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1014179617754593,"randomize",20,7,"dpmpp_2m","karras",1],"color":"#432","bgcolor":"#653"},{"id":1756,"type":"Reroute","pos":[-1050,1710],"size":[82,26],"flags":{},"order":283,"mode":0,"inputs":[{"name":"","type":"*","link":3954,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3963,3964,3965,3970,4338,4480],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":2005,"type":"BiRefNet_ModelLoader_Zho","pos":[-530,2090],"size":{"0":250,"1":60},"flags":{},"order":61,"mode":0,"outputs":[{"name":"birefnetmodel","type":"BRNMODEL","links":[4479],"shape":3,"label":"birefnetmodel"}],"properties":{"Node name for S&R":"BiRefNet_ModelLoader_Zho"},"widgets_values":["BiRefNet-DIS_ep580.pth"],"color":"#332922","bgcolor":"#593930"},{"id":1493,"type":"ConditioningSetMask","pos":[740,320],"size":{"0":320,"1":100},"flags":{"collapsed":true},"order":321,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":3231,"label":"conditioning"},{"name":"mask","type":"MASK","link":3250,"label":"mask"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3233],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"title":"Conditioning (前景)","properties":{"Node name for S&R":"ConditioningSetMask"},"widgets_values":[1,"default"],"color":"#432","bgcolor":"#653"},{"id":1497,"type":"MaskBlur+","pos":[550,390],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":276,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3564,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[3250],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"MaskBlur+"},"widgets_values":[20,"auto"],"color":"#432","bgcolor":"#653"},{"id":450,"type":"SetNode","pos":[5450,4140],"size":{"0":218.39999389648438,"1":58},"flags":{"collapsed":true},"order":295,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":2204,"label":"STRING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Prompt  (Head & Style)","properties":{"previousName":"Prompt  (Head & Style)"},"widgets_values":["Prompt  (Head & Style)"]},{"id":1764,"type":"ImageResize+","pos":[5680,4140],"size":{"0":320,"1":220},"flags":{"collapsed":true},"order":217,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3988,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3989],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[1024,1024,"nearest","keep proportion","always",0]},{"id":1597,"type":"GetNode","pos":[5700,4180],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":62,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3988],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image_BKG","properties":{},"widgets_values":["Image_BKG"]},{"id":1515,"type":"GetNode","pos":[5840,4140],"size":{"0":235.1999969482422,"1":58},"flags":{"collapsed":true},"order":63,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3986],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image (Character Prompt)","properties":{},"widgets_values":["Image (Character Prompt)"]},{"id":1477,"type":"SetNode","pos":[6080,4140],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":224,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":3185,"label":"STRING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Foreground Prompt","properties":{"previousName":"Foreground Prompt"},"widgets_values":["Foreground Prompt"]},{"id":244,"type":"SetNode","pos":[6290,4140],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":226,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":3634,"label":"STRING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Prompt (Background)","properties":{"previousName":"Prompt (Background)"},"widgets_values":["Prompt (Background)"]},{"id":221,"type":"SetNode","pos":[6050,4180],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":237,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":3633,"label":"STRING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Prompt  (Character)","properties":{"previousName":"Prompt  (Character)"},"widgets_values":["Prompt  (Character)"]},{"id":415,"type":"SetNode","pos":[5500,4180],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":296,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":2205,"label":"STRING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Prompt (Negative)","properties":{"previousName":"Prompt (Negative)"},"widgets_values":["Prompt (Negative)"]},{"id":1762,"type":"ImageResize+","pos":[5880,4180],"size":{"0":320,"1":220},"flags":{"collapsed":true},"order":218,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3986,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3987],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[1024,1024,"nearest","keep proportion","always",0]},{"id":2010,"type":"SetNode","pos":[6250,4180],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":219,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":4495,"label":"FLOAT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_BG_IPA_End_at","properties":{"previousName":"BG_IPA_End_at"},"widgets_values":["BG_IPA_End_at"]},{"id":2020,"type":"EG_RY_HT","pos":[6470,3670],"size":{"0":240,"1":60},"flags":{"collapsed":false,"pinned":true},"order":64,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4495],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"背景风格迁移结束步数位置","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[0.65]},{"id":483,"type":"KSampler","pos":[2150,80],"size":{"0":320,"1":450},"flags":{},"order":452,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2616,"label":"model"},{"name":"positive","type":"CONDITIONING","link":3710,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":3711,"label":"negative"},{"name":"latent_image","type":"LATENT","link":3479,"label":"latent_image"},{"name":"seed","type":"INT","link":1057,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1050,2841],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[914970305840341,"randomize",20,6,"dpmpp_2m","karras",0.68],"color":"#432","bgcolor":"#653"},{"id":795,"type":"KSampler","pos":[3130,80],"size":{"0":320,"1":450},"flags":{},"order":456,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2618,"label":"model"},{"name":"positive","type":"CONDITIONING","link":3706,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":3708,"label":"negative"},{"name":"latent_image","type":"LATENT","link":1882,"label":"latent_image"},{"name":"seed","type":"INT","link":1883,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1879],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[728316606174829,"randomize",25,5,"dpmpp_2m","karras",0.68],"color":"#432","bgcolor":"#653"},{"id":1520,"type":"DF_Float","pos":[3110,1440],"size":{"0":240,"1":60},"flags":{"collapsed":false},"order":65,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3352],"shape":3,"label":"FLOAT","slot_index":0}],"title":"Strength","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":1505,"type":"ACN_AdvancedControlNetApply","pos":[3590,1420],"size":{"0":340,"1":290},"flags":{},"order":437,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4335,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4336,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":3285,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":4381,"label":"image"},{"name":"mask_optional","type":"MASK","link":3489,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override","slot_index":7},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"strength","type":"FLOAT","link":3352,"widget":{"name":"strength"},"label":"strength"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[3649],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[3650],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.85,0,0.5,""],"color":"#233","bgcolor":"#355"},{"id":1271,"type":"GetNode","pos":[500,1070],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":66,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[2765,3520,3562,3785,4413],"slot_index":0,"label":"MASK"}],"title":"Get_Merge Mask","properties":{},"widgets_values":["Merge Mask"]},{"id":1511,"type":"ImageCompositeFromMaskBatch+","pos":[-770,1910],"size":{"0":290,"1":70},"flags":{"collapsed":true},"order":390,"mode":0,"inputs":[{"name":"image_from","type":"IMAGE","link":3295,"label":"image_from"},{"name":"image_to","type":"IMAGE","link":3970,"label":"image_to"},{"name":"mask","type":"MASK","link":3301,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3303],"shape":3,"label":"IMAGE","slot_index":0}],"title":"🔧 Image Composite","properties":{"Node name for S&R":"ImageCompositeFromMaskBatch+"},"color":"#332922","bgcolor":"#593930"},{"id":909,"type":"MaskComposite","pos":[-1110,1790],"size":{"0":230,"1":130},"flags":{"collapsed":true},"order":388,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":2304,"label":"destination"},{"name":"source","type":"MASK","link":4448,"label":"source"}],"outputs":[{"name":"MASK","type":"MASK","links":[4440,4441,4442],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"subtract"],"color":"#332922","bgcolor":"#593930"},{"id":1265,"type":"SetNode","pos":[-880,1160],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":284,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":3976,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Scaled Original Image","properties":{"previousName":"Scaled Original Image"},"widgets_values":["Scaled Original Image"]},{"id":28,"type":"PreviewImage","pos":[1620,2530],"size":{"0":210,"1":250},"flags":{},"order":413,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2646,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":27,"type":"DepthAnythingPreprocessor","pos":[1420,2600],"size":{"0":220,"1":80},"flags":{"collapsed":true},"order":203,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2764,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4226],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"DepthAnythingPreprocessor"},"widgets_values":["depth_anything_vitl14.pth",512],"color":"#233","bgcolor":"#355"},{"id":1124,"type":"Seed (rgthree)","pos":{"0":5350,"1":-950,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":380,"1":130},"flags":{},"order":67,"mode":4,"inputs":[],"outputs":[{"name":"SEED","type":"INT","links":[2491],"shape":3,"label":"SEED","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Seed (rgthree)"},"widgets_values":[-1,null,null,null],"color":"#323","bgcolor":"#535"},{"id":268,"type":"DetailerForEachDebug","pos":[4440,-1240],"size":{"0":440,"1":590},"flags":{},"order":491,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":1861,"label":"image"},{"name":"segs","type":"SEGS","link":3034,"label":"segs"},{"name":"model","type":"MODEL","link":531,"label":"model"},{"name":"clip","type":"CLIP","link":532,"label":"clip"},{"name":"vae","type":"VAE","link":533,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":2694,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":2697,"label":"negative"},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"},{"name":"seed","type":"INT","link":2491,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"image","type":"IMAGE","links":[2573],"shape":3,"label":"image","slot_index":0},{"name":"cropped","type":"IMAGE","links":[],"shape":6,"label":"cropped","slot_index":1},{"name":"cropped_refined","type":"IMAGE","links":[540],"shape":6,"label":"cropped_refined","slot_index":2},{"name":"cropped_refined_alpha","type":"IMAGE","links":[],"shape":6,"label":"cropped_refined_alpha","slot_index":3},{"name":"cnet_images","type":"IMAGE","links":[2695],"shape":6,"label":"cnet_images","slot_index":4}],"properties":{"Node name for S&R":"DetailerForEachDebug"},"widgets_values":[384,true,1024,17815315478697,"randomize",20,8,"dpmpp_2m","karras",0.5,10,true,true,"",1,true,0],"color":"#323","bgcolor":"#535"},{"id":1232,"type":"CLIPTextEncode","pos":[4940,-770],"size":{"0":370,"1":120},"flags":{},"order":189,"mode":4,"inputs":[{"name":"clip","type":"CLIP","link":2696,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[2697],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["mutated hands,mutated fingers,deformed,bad anatomy,disfigured,ugly,poorly drawn hands,out of focus,extra fingers,fewer fingers,bad hands,blurry, (Fingers crossed:1.2), (finger ring:1.2)"],"color":"#322","bgcolor":"#533"},{"id":1228,"type":"CLIPTextEncode","pos":[4930,-950],"size":{"0":380,"1":130},"flags":{},"order":188,"mode":4,"inputs":[{"name":"clip","type":"CLIP","link":2680,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[2694],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["hand, finger, (fist:1.1)"],"color":"#232","bgcolor":"#353"},{"id":1257,"type":"SEGSSwitch","pos":[5350,-770],"size":{"0":380,"1":120},"flags":{},"order":490,"mode":4,"inputs":[{"name":"input1","type":"SEGS","link":2745,"label":"input1"},{"name":"input2","type":"SEGS","link":2750,"label":"input2"},{"name":"input3","type":"SEGS","link":null,"label":"input3"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[3034],"shape":3,"label":"SEGS","slot_index":0},{"name":"selected_label","type":"STRING","links":null,"shape":3,"label":"selected_label"},{"name":"selected_index","type":"INT","links":null,"shape":3,"label":"selected_index"}],"title":"修复方式（1:OpenPose  2:Depth）","properties":{"Node name for S&R":"SEGSSwitch"},"widgets_values":[2,true],"color":"#323","bgcolor":"#535"},{"id":270,"type":"PreviewImage","pos":[5340,-1240],"size":{"0":380,"1":250},"flags":{},"order":493,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":540,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#323","bgcolor":"#535"},{"id":2039,"type":"SetNode","pos":[6480,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":264,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":4520,"label":"FLOAT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Restore Strenght","properties":{"previousName":"Restore Strenght"},"widgets_values":["Restore Strenght"]},{"id":2041,"type":"GetNode","pos":[1510,-1480],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":68,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4521],"slot_index":0,"label":"FLOAT"}],"title":"Get_Restore Strenght","properties":{},"widgets_values":["Restore Strenght"],"color":"#332922","bgcolor":"#593930"},{"id":2001,"type":"GetNode","pos":[1510,-1440],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":69,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4514],"slot_index":0,"label":"IMAGE"}],"title":"Get_FixImage","properties":{},"widgets_values":["FixImage"],"color":"#332922","bgcolor":"#593930"},{"id":2036,"type":"MaskToImage","pos":[1720,-1430],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":474,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4517,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4518],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"},"color":"#332922","bgcolor":"#593930"},{"id":2026,"type":"MaskComposite","pos":[1530,-1390],"size":{"0":230,"1":130},"flags":{"collapsed":true},"order":473,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":4499,"label":"destination"},{"name":"source","type":"MASK","link":4506,"label":"source"}],"outputs":[{"name":"MASK","type":"MASK","links":[4517],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"add"],"color":"#332922","bgcolor":"#593930"},{"id":1999,"type":"GetImageSize+","pos":[1520,-1340],"size":{"0":210,"1":70},"flags":{"collapsed":true},"order":466,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4469,"label":"image"}],"outputs":[{"name":"width","type":"INT","links":[4455,4508],"shape":3,"slot_index":0,"label":"width"},{"name":"height","type":"INT","links":[4456,4509],"shape":3,"slot_index":1,"label":"height"},{"name":"count","type":"INT","links":null,"shape":3,"label":"count"}],"properties":{"Node name for S&R":"GetImageSize+"},"color":"#332922","bgcolor":"#593930"},{"id":1987,"type":"ResizeMask","pos":[1740,-1380],"size":{"0":280,"1":100},"flags":{"collapsed":true},"order":468,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4428,"label":"mask"},{"name":"width","type":"INT","link":4455,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":4456,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"mask","type":"MASK","links":[4436],"shape":3,"slot_index":0,"label":"mask"},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ResizeMask"},"widgets_values":[512,512,false],"color":"#332922","bgcolor":"#593930"},{"id":1984,"type":"GetNode","pos":[1710,-1330],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":70,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[4428],"slot_index":0,"label":"MASK"}],"title":"Get_Merge Mask (no remap)","properties":{},"widgets_values":["Merge Mask (no remap)"],"color":"#332922","bgcolor":"#593930"},{"id":2030,"type":"GetNode","pos":[1520,-1280],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":71,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4511],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image_Original","properties":{},"widgets_values":["Image_Original"],"color":"#332922","bgcolor":"#593930"},{"id":2031,"type":"ImageResize+","pos":[1730,-1280],"size":{"0":320,"1":220},"flags":{"collapsed":true},"order":469,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4511,"label":"image"},{"name":"width","type":"INT","link":4508,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":4509,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4510],"shape":3,"label":"IMAGE","slot_index":0},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[512,512,"nearest","stretch","always",0],"color":"#332922","bgcolor":"#593930"},{"id":2033,"type":"Image Blend by Mask","pos":[1730,-1480],"size":{"0":320,"1":100},"flags":{"collapsed":true},"order":475,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":4515,"label":"image_a"},{"name":"image_b","type":"IMAGE","link":4514,"label":"image_b"},{"name":"mask","type":"IMAGE","link":4518,"label":"mask","slot_index":2},{"name":"blend_percentage","type":"FLOAT","link":4521,"widget":{"name":"blend_percentage"},"label":"blend_percentage"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4519,4522],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"Image Blend by Mask"},"widgets_values":[0.3],"color":"#332922","bgcolor":"#593930"},{"id":2042,"type":"PreviewBridge","pos":[-250,2260],"size":{"0":210,"1":290},"flags":{},"order":364,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4528,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[4524],"shape":3,"label":"MASK","slot_index":1}],"title":"MaskEditor添加蒙版修复","properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$2042-0"],"color":"#332922","bgcolor":"#593930"},{"id":2004,"type":"BiRefNet_Zho","pos":[-530,2200],"size":{"0":250,"1":50},"flags":{},"order":328,"mode":0,"inputs":[{"name":"birefnetmodel","type":"BRNMODEL","link":4479,"slot_index":0,"label":"birefnetmodel"},{"name":"image","type":"IMAGE","link":4480,"label":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[4527],"shape":3,"slot_index":0,"label":"image"},{"name":"mask","type":"MASK","links":[4482],"shape":3,"slot_index":1,"label":"mask"}],"properties":{"Node name for S&R":"BiRefNet_Zho"},"color":"#332922","bgcolor":"#593930"},{"id":2044,"type":"SplitImageWithAlpha","pos":[-490,2620],"size":{"0":210,"1":50},"flags":{"collapsed":true},"order":350,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4527,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4528],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"SplitImageWithAlpha"},"color":"#332922","bgcolor":"#593930"},{"id":438,"type":"MaskPreview+","pos":[-20,2260],"size":{"0":210,"1":290},"flags":{},"order":381,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4526,"label":"mask"}],"properties":{"Node name for S&R":"MaskPreview+"},"color":"#332922","bgcolor":"#593930"},{"id":1951,"type":"GrowMaskWithBlur","pos":[-530,2310],"size":{"0":250,"1":250},"flags":{},"order":351,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4482,"label":"mask"}],"outputs":[{"name":"mask","type":"MASK","links":[4525],"shape":3,"slot_index":0,"label":"mask"},{"name":"mask_inverted","type":"MASK","links":null,"shape":3,"label":"mask_inverted"}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[0,0,false,false,0,1,1,false],"color":"#332922","bgcolor":"#593930"},{"id":2043,"type":"MaskComposite","pos":[-210,2620],"size":{"0":230,"1":130},"flags":{"collapsed":true},"order":374,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":4525,"label":"destination"},{"name":"source","type":"MASK","link":4524,"label":"source"}],"outputs":[{"name":"MASK","type":"MASK","links":[4526,4529],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"add"],"color":"#332922","bgcolor":"#593930"},{"id":706,"type":"Any Switch (rgthree)","pos":{"0":-550,"1":1910,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":170,"1":110},"flags":{"collapsed":true},"order":382,"mode":0,"inputs":[{"name":"any_01","type":"MASK","link":4439,"label":"any_01","dir":3},{"name":"any_02","type":"MASK","link":4529,"label":"any_02","dir":3},{"name":"any_03","type":"MASK","link":null,"label":"any_03","dir":3},{"name":"any_04","type":"MASK","link":null,"label":"any_04","dir":3},{"name":"any_05","type":"MASK","link":null}],"outputs":[{"name":"*","type":"MASK","links":[2304,2754,3301,4340],"shape":3,"label":"MASK","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)"},"widgets_values":[],"color":"#332922","bgcolor":"#593930"},{"id":311,"type":"WD14Tagger|pysssss","pos":[6100,3490],"size":{"0":360,"1":350},"flags":{"pinned":true},"order":290,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":3989,"label":"image"}],"outputs":[{"name":"STRING","type":"STRING","links":[3638],"shape":6,"label":"STRING","slot_index":0}],"title":"生成背景提示词","properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-moat-tagger-v2",0.58,1,false,false,"no_humans,monochrome,english_text"],"color":"#223","bgcolor":"#335"},{"id":312,"type":"WD14Tagger|pysssss","pos":[5730,3490],"size":{"0":360,"1":350},"flags":{"pinned":true},"order":291,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":3987,"label":"image"}],"outputs":[{"name":"STRING","type":"STRING","links":[3639],"shape":6,"label":"STRING","slot_index":0}],"title":"生成主体提示词","properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-moat-tagger-v2",0.35,0.85,false,false,"simple_background, grey_background, green_eyes, blue_eyes, red_eyes"],"color":"#323","bgcolor":"#535"},{"id":1652,"type":"Fast Bypasser (rgthree)","pos":{"0":6470,"1":3490,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":240,"1":120},"flags":{"pinned":false},"order":333,"mode":0,"inputs":[{"name":"生成背景提示词","type":"*","link":3638,"dir":3,"label":"生成背景提示词"},{"name":"生成主体提示词","type":"*","link":3639,"dir":3,"label":"生成主体提示词"},{"name":"","type":"*","link":null,"dir":3,"label":""}],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null,"dir":4,"label":"OPT_CONNECTION"}],"title":"反推后关闭，避免重复运行","properties":{"toggleRestriction":"default"}},{"id":1943,"type":"ACN_AdvancedControlNetApply","pos":[2730,1770],"size":{"0":340,"1":290},"flags":{"collapsed":false},"order":385,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4315,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4316,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":4325,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":4324,"label":"image"},{"name":"mask_optional","type":"MASK","link":4322,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":4319,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"vae_optional","type":"VAE","link":null,"label":"vae_optional"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4333],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4334],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.35000000000000003,0,0.85,""],"color":"#233","bgcolor":"#355"},{"id":1579,"type":"GetNode","pos":[3120,1570],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":72,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[3491],"slot_index":0,"label":"MASK"}],"title":"Get_Merge Mask (no remap)","properties":{},"widgets_values":["Merge Mask (no remap)"],"color":"#233","bgcolor":"#355"},{"id":2046,"type":"PreviewImage","pos":[3390,1750],"size":{"0":170,"1":250},"flags":{},"order":416,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4531,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":1946,"type":"GetNode","pos":[2280,2030],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":73,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[4325],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_Scribble","properties":{},"widgets_values":["CN_Scribble"],"color":"#233","bgcolor":"#355"},{"id":1535,"type":"PreviewImage","pos":[2520,1420],"size":{"0":170,"1":250},"flags":{},"order":337,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3381,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":2045,"type":"PreviewImage","pos":[2510,1770],"size":{"0":170,"1":250},"flags":{},"order":335,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4530,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":1945,"type":"MaskToImage","pos":[2280,1990],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":298,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4323,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4324,4530],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"color":"#233","bgcolor":"#355"},{"id":1944,"type":"OutlineMask","pos":[2280,1950],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":228,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4320,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[4323],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"OutlineMask"},"widgets_values":[8,true],"color":"#233","bgcolor":"#355"},{"id":1537,"type":"GetNode","pos":[2280,1900],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":74,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3383],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_InPaint","properties":{},"widgets_values":["CN_InPaint"],"color":"#233","bgcolor":"#355"},{"id":1541,"type":"SimpleMath+","pos":[2280,1860],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":293,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":3402,"label":"a"},{"name":"b","type":"INT,FLOAT","link":3400,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT","slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[3444],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*b"],"color":"#233","bgcolor":"#355"},{"id":1556,"type":"SimpleMath+","pos":[2280,1810],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":294,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":3441,"label":"a"},{"name":"b","type":"INT,FLOAT","link":null,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT","slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[3443],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["1-(1-a)/4"],"color":"#233","bgcolor":"#355"},{"id":1543,"type":"DF_Float","pos":[2280,1770],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":223,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":3401,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3400,3441],"shape":3,"label":"FLOAT","slot_index":0}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":1542,"type":"GetNode","pos":[2280,1720],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":75,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3401],"slot_index":0,"label":"FLOAT"}],"title":"Get_CN Strenght","properties":{},"widgets_values":["CN Strenght"],"color":"#233","bgcolor":"#355"},{"id":1533,"type":"InpaintPreprocessor","pos":[2280,1670],"size":{"0":210,"1":50},"flags":{"collapsed":true},"order":304,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3502,"label":"image"},{"name":"mask","type":"MASK","link":4478,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3381,3382],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"InpaintPreprocessor"},"color":"#233","bgcolor":"#355"},{"id":1534,"type":"InvertMask","pos":[2280,1620],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":234,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3380,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[4478],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"InvertMask"},"color":"#233","bgcolor":"#355"},{"id":1539,"type":"DF_Float","pos":[2270,1440],"size":{"0":210,"1":70},"flags":{"collapsed":false},"order":76,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3402],"shape":3,"label":"FLOAT","slot_index":0}],"title":"Strength","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[1],"color":"#233","bgcolor":"#355"},{"id":1948,"type":"ACN_AdvancedControlNetApply","pos":[3590,1760],"size":{"0":340,"1":290},"flags":{"collapsed":false},"order":415,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4333,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4334,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":4329,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":4330,"label":"image"},{"name":"mask_optional","type":"MASK","link":4331,"label":"mask_optional","slot_index":4},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":4412,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"vae_optional","type":"VAE","link":null,"label":"vae_optional"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4335],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4336],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.35000000000000003,0,0.85,""],"color":"#233","bgcolor":"#355"},{"id":1475,"type":"DF_Text_Box","pos":[5350,3810],"size":{"0":370,"1":120},"flags":{"pinned":true},"order":77,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3185],"shape":3,"slot_index":0,"label":"STRING"}],"title":"前景提示词（需先绘制前景蒙版）","properties":{"Node name for S&R":"DF_Text_Box"},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":1650,"type":"DF_Text_Box","pos":[5350,3970],"size":{"0":370,"1":120},"flags":{"pinned":true},"order":78,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3637],"shape":3,"slot_index":0,"label":"STRING"}],"title":"反向提示词补充","properties":{"Node name for S&R":"DF_Text_Box"},"widgets_values":[""],"color":"#322","bgcolor":"#533"},{"id":1133,"type":"DF_Text_Box","pos":[6100,3880],"size":{"0":360,"1":210},"flags":{"pinned":true},"order":79,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3634],"shape":3,"slot_index":0,"label":"STRING"}],"title":"背景反推提示词拷贝到这里","properties":{"Node name for S&R":"DF_Text_Box"},"widgets_values":[""],"color":"#223","bgcolor":"#335"},{"id":995,"type":"Note","pos":[-180,2090],"size":{"0":315.2401123046875,"1":86.60797119140625},"flags":{},"order":80,"mode":0,"properties":{"text":""},"widgets_values":["在下面的预览图上点击鼠标右键弹出MaskEditor，可以通过添加Mask的方式来修补自定义抠图生成的蒙版。\n\n当去除背景的整体效果不佳时，可上传及使用自定义蒙版。\n\n"],"color":"#332922","bgcolor":"#593930"},{"id":2024,"type":"PreviewBridge","pos":[1530,-1050],"size":{"0":320,"1":290},"flags":{},"order":472,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4510,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[4506],"shape":3,"label":"MASK","slot_index":1}],"title":"使用MaskEditor添加蒙版可以修复细节","properties":{"Node name for S&R":"PreviewBridge"},"widgets_values":["$2024-0"],"color":"#332922","bgcolor":"#593930"},{"id":2037,"type":"PreviewImage","pos":[1890,-1050],"size":{"0":330,"1":290},"flags":{},"order":476,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4519,"label":"images"}],"title":"修复后","properties":{"Node name for S&R":"PreviewImage"},"color":"#332922","bgcolor":"#593930"},{"id":2009,"type":"Note","pos":[6470,3790],"size":{"0":240.74984741210938,"1":208.3726043701172},"flags":{"pinned":false},"order":81,"mode":0,"properties":{"text":""},"widgets_values":["1、Tagger节点生成的反推词需手动复制粘贴到相应的文字框内才能生效。\n\n2、利用MaskEditor生成前景时，需要在前景提示词文本框内写入前景提示词，如同时在正向提示词文本框内写入可加强生成效果。\n\n3、背景风格迁移结束步数位置：\n对应IPAdapter的End_at值，数值越大，背景受提示词影响越小；反之，数值越小，受提示词影响越大，适合二次创作。"],"color":"#432","bgcolor":"#653"},{"id":1423,"type":"GetNode","pos":[490,2680],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":82,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[4264,4320],"slot_index":0,"label":"MASK"}],"title":"Get_Foreground mask","properties":{},"widgets_values":["Foreground mask"],"color":"#233","bgcolor":"#355"},{"id":1426,"type":"MaskToImage","pos":[490,2770],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":334,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3066,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3091],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"color":"#233","bgcolor":"#355"},{"id":1427,"type":"ImageBlend","pos":[490,2910],"size":{"0":320,"1":100},"flags":{"collapsed":true},"order":353,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":4309,"label":"image1"},{"name":"image2","type":"IMAGE","link":3091,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3200,3201],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[1,"screen"],"color":"#233","bgcolor":"#355"},{"id":1437,"type":"SimpleMath+","pos":[940,2910],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":271,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":3106,"label":"a"},{"name":"b","type":"INT,FLOAT","link":3107,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT","slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[3108],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*b"],"color":"#233","bgcolor":"#355"},{"id":1119,"type":"SimpleMath+","pos":[760,2270],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":278,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":2539,"label":"a"},{"name":"b","type":"INT,FLOAT","link":3537,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT","slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[2487],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*b"],"color":"#233","bgcolor":"#355"},{"id":1879,"type":"CM_FloatBinaryOperation","pos":[1230,450],"size":{"0":320,"1":110},"flags":{"collapsed":true},"order":302,"mode":0,"inputs":[{"name":"a","type":"FLOAT","link":4416,"widget":{"name":"a"},"label":"a"},{"name":"b","type":"FLOAT","link":4203,"widget":{"name":"b"},"label":"b"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4195],"shape":3,"slot_index":0,"label":"FLOAT"}],"properties":{"Node name for S&R":"CM_FloatBinaryOperation"},"widgets_values":["Div",1,0.5],"color":"#432","bgcolor":"#653"},{"id":1881,"type":"CM_FloatUnaryOperation","pos":[1230,500],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":336,"mode":0,"inputs":[{"name":"a","type":"FLOAT","link":4195,"widget":{"name":"a"},"label":"a"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4198,4199],"shape":3,"slot_index":0,"label":"FLOAT"}],"properties":{"Node name for S&R":"CM_FloatUnaryOperation"},"widgets_values":["Sqrt",0],"color":"#432","bgcolor":"#653"},{"id":691,"type":"Note","pos":[7900,1500],"size":{"0":400,"1":1290},"flags":{"pinned":false},"order":83,"mode":0,"properties":{"text":""},"widgets_values":["多功能换背景工作流 plus V3\n\n[功能特性]\n\n1、根据参考图及提示词可为照片主体（人、动物、产品等）生成自然融合的背景；\n\n2、通过MaskEditor绘画并配合提示词，可为画面添加元素以及生成前景；\n\n3、提供了自定义深度图、脸部修复、手部修复及换脸功能；\n\n4、提供了多个控制器方便切换画面风格以及对生成的结果进行把控；\n\n5、IC-Light多种混合模式打光。\n\n\n【操作说明】\n\n使用数字键（0-9）能实现快速跳转不同的功能群组\n\n—— 换背景：\n安装所需插件以及正确配置模型后，只需上传主体图片以及背景参考图，点击生成，即可为主体更换背景。配合提示词，可以为背景添加更多创意。\n\n\n—— 使用自定义蒙版：\n在“选择蒙版的提供方式”群组打开”使用自定义蒙版“，并上传自定义蒙版图片。\n\n—— 换脸：\n同时打开”人物面部迁移“及”人物面部修复“群组，启用”上传面部参考图“节点，并上传面部参考图。\n\n—— 面部及手部修复：\n使用时打开对应的功能群组即可。当同时启用时，先修复面部再修复手部。定位到对应的群组，可以通过调整参数或更换种子来对相关的功能效果进行把控。\n\n—— 复原主体：\n提供了节点可以调节主体复原的程度，强度为1时，主体与原图保持一致，如边缘存在差异可以跳转到主体复原的节点群组去进一步修正。强度为0时，则维持生成图效果。中间数值为过渡形态，根据实际效果使用。\n\n—— IC-Light：\n打开IC-Light相关的群组，然后按数字键9跳转。该群组为独立的工作流，通常先使用换背景工作流生成图片后，再上传到IC-Light进行后期打光。\n\n\n\n【问题处理】\n\n1、IPAdapter报错\n请升级到最新版本，如果出现升级后不能使用的情况，请先升级ComfyUI，并按插件开发者页面所要求的规范去对模型进行命名。由于插件升级后涉及问题较多，解决不了的，请详细阅读下开发者的页面，地址：\n\nhttps://github.com/cubiq/ComfyUI_IPAdapter_plus\n\n2、IPAdapter FaceID报错\n因为无法检测出面部的原因，关闭“（人物）面部迁移”功能群组；\n\n3、其他节点报错\n部分节点第一次加载需要通过网络下载相关模型，查看后台日记，看看是否下载失败。由于很多模型地址都在外网，所以可能需要科学上网。后台日记一般会记录所需模型的名称及放置目录，所以也可以自行下载对应模型并放到对应的文件目录里。\n\n\n4、主体形象固定问题\n该工作流逻辑是通过三次采样逐步修正主体形象的方式去让背景与主体更好的结合在一起。这样做的初衷是为了减少单纯Inpaint出图时的贴图感以及边缘错误问题。由于需要进行一定程度上的重绘，所以首先无法做到和原图主体一模一样，但是通过调节器配合提示词，基本可以达到95%的相似度；\n\n\n5、主体残缺及边缘错误\n如果主体边缘不干净、出现残缺或者额外的物体时，多余蒙版有关。检查下自动生成主体蒙版群组里的预览图，看蒙版预览图是否正确。如果蒙版不正确，可尝试切检测模型，或使用自定义蒙版。\n\n6、节点缺失\n——bookmark节点缺失，搜索并安装ComfyUI easy use插件；\n——DF开头的节点，搜索并安装Derfuu ComfyUI ModdedNodes插件；\n——Brightness Contrast节点缺失，先更新layer style插件，重启后台，刷新页面，重新加载工作流看看。如果还是报缺，手动添加同名节点进行替换，或者用其他同类节点代替，只要能实现调节图片亮度就可以，如果想快速体验可以先pass掉。\n\n7、出图比例异常\n如果出图比例与原图不一致，可能是Image Resize+节点的版本不一致造成，更新ComfyUI Essentials插件，重启后刷新下页面。\n\n\n工作流介绍视频：\n\nhttps://www.bilibili.com/video/BV1MU411o7et/?share_source=copy_web&vd_source=090a04c5cf49233e01a2437190f2586d\n\n\n【 嘻设出品，Have fun!! 】"],"color":"#432","bgcolor":"#653"},{"id":1276,"type":"SetNode","pos":[8460,1980],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":240,"mode":0,"inputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","link":2783,"label":"CONTROL_NET"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_CN_InPaint","properties":{"previousName":"CN_InPaint"},"widgets_values":["CN_InPaint"]},{"id":1280,"type":"SetNode","pos":[8630,1980],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":245,"mode":0,"inputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","link":2779,"label":"CONTROL_NET"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_CN_Tile","properties":{"previousName":"CN_Tile"},"widgets_values":["CN_Tile"]},{"id":1340,"type":"Note","pos":[8520,1850],"size":{"0":310,"1":70},"flags":{},"order":84,"mode":0,"properties":{"text":""},"widgets_values":["使用前先检测模型类型是否正确，避免错误刷新导致模型混乱，如果使用中文界面导致节点名称被重置，可以对照下面的Set Node节点去配置模型。"],"color":"#432","bgcolor":"#653"},{"id":1934,"type":"GetNode","pos":[-580,-810],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":85,"mode":0,"outputs":[{"name":"*","type":"*","links":[4312],"slot_index":0,"label":"*"}],"title":"Get_Main Mask","properties":{},"widgets_values":["Main Mask"],"color":"#223","bgcolor":"#335"},{"id":1940,"type":"MaskComposite","pos":[-370,-810],"size":{"0":320,"1":340},"flags":{"collapsed":true},"order":249,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":4311,"label":"destination"},{"name":"source","type":"MASK","link":4312,"label":"source"}],"outputs":[{"name":"MASK","type":"MASK","links":[4313],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"add"],"color":"#223","bgcolor":"#335"},{"id":1214,"type":"InvertMask","pos":[-190,-810],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":310,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4313,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[4360],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"InvertMask"},"color":"#223","bgcolor":"#335"},{"id":1970,"type":"Reroute","pos":[1580,1070],"size":[82,26],"flags":{},"order":430,"mode":0,"inputs":[{"name":"","type":"*","link":4378,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4385],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1972,"type":"Reroute","pos":[2360,1070],"size":[82,26],"flags":{},"order":432,"mode":0,"inputs":[{"name":"","type":"*","link":4385,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4384,4386],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1971,"type":"Reroute","pos":[3240,1070],"size":[82,26],"flags":{},"order":434,"mode":0,"inputs":[{"name":"","type":"*","link":4384,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4381,4382],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1267,"type":"GetNode","pos":[500,1120],"size":{"0":218.39999389648438,"1":58},"flags":{"collapsed":true},"order":86,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2757,2760,3500,3782],"slot_index":0,"label":"IMAGE"}],"title":"Get_Filtered images","properties":{},"widgets_values":["Filtered images"]},{"id":1583,"type":"Reroute","pos":[2160,1090],"size":[82,26],"flags":{},"order":230,"mode":0,"inputs":[{"name":"","type":"*","link":3500,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3502],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":1275,"type":"GetNode","pos":[500,1170],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":87,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2771,3780],"slot_index":0,"label":"IMAGE"}],"title":"Get_Scaled Original Image","properties":{},"widgets_values":["Scaled Original Image"]},{"id":1672,"type":"Reroute","pos":[2040,820],"size":[140.8,26],"flags":{},"order":451,"mode":0,"inputs":[{"name":"","type":"*","link":3709,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3711],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":2060,"type":"Label (rgthree)","pos":{"0":470,"1":1260,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":325.4296875,"1":48},"flags":{"allow_interaction":true},"order":88,"mode":0,"inputs":[],"outputs":[],"title":"ControlNet控制","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":2058,"type":"Label (rgthree)","pos":{"0":-1140,"1":1250,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":480,"1":48},"flags":{"allow_interaction":true},"order":89,"mode":0,"inputs":[],"outputs":[],"title":"主体抠图以及蒙版处理","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":1786,"type":"easy bookmark","pos":[-1290,1370],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":90,"mode":0,"title":"🔖 3","properties":{},"widgets_values":["3",0.9]},{"id":2061,"type":"Label (rgthree)","pos":{"0":4560,"1":1290,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":240,"1":48},"flags":{"allow_interaction":true},"order":91,"mode":0,"inputs":[],"outputs":[],"title":"主要操作区","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":1107,"type":"Note","pos":[2960,-230],"size":{"0":230,"1":70},"flags":{},"order":92,"mode":0,"properties":{"text":""},"widgets_values":["FreeU节点打开可以获得对比度及饱和度更高的图像，但同时会造成主体颜色失真。"],"color":"#432","bgcolor":"#653"},{"id":1700,"type":"ScaledSoftControlNetWeights","pos":[2310,2380],"size":{"0":310,"1":130},"flags":{},"order":93,"mode":0,"inputs":[{"name":"cn_extras","type":"CN_WEIGHTS_EXTRAS","link":null,"label":"cn_extras"}],"outputs":[{"name":"CN_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":null,"shape":3,"label":"CN_WEIGHTS"},{"name":"TK_SHORTCUT","type":"TIMESTEP_KEYFRAME","links":[3807,3820],"shape":3,"slot_index":1,"label":"TK_SHORTCUT"}],"properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.9,false,1,""],"color":"#233","bgcolor":"#355"},{"id":1676,"type":"PreviewImage","pos":[3060,2230],"size":{"0":220,"1":290},"flags":{},"order":440,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3721,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":1703,"type":"PreviewImage","pos":[3710,2230],"size":{"0":210,"1":290},"flags":{},"order":442,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":3822,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":1994,"type":"GrowMaskWithBlur","pos":[1940,-1500],"size":{"0":280,"1":250},"flags":{},"order":471,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4436,"label":"mask"}],"outputs":[{"name":"mask","type":"MASK","links":[4499],"shape":3,"slot_index":0,"label":"mask"},{"name":"mask_inverted","type":"MASK","links":null,"shape":3,"label":"mask_inverted"}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[-16,0,false,false,8,1,1,false],"color":"#332922","bgcolor":"#593930"},{"id":2047,"type":"Note","pos":[1650,-1190],"size":{"0":450,"1":70},"flags":{},"order":94,"mode":0,"properties":{"text":""},"widgets_values":["复原主体时对蒙版边缘进行了羽化，可能会导致一些细节丢失，在下面的预览图上点击鼠标右键弹出MaskEditor，可以通过添加Mask的方式来对复原主体的边缘进行修复。\n\n"],"color":"#332922","bgcolor":"#593930"},{"id":1977,"type":"GetNode","pos":[750,250],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":95,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4408,4409,4410],"slot_index":0,"label":"INT"}],"title":"Get_FirstSampling_Size","properties":{},"widgets_values":["FirstSampling_Size"],"color":"#432","bgcolor":"#653"},{"id":1885,"type":"DF_Int_to_Float","pos":[1060,500],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":232,"mode":0,"inputs":[{"name":"Value","type":"INT","link":4410,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4203],"shape":3,"slot_index":0,"label":"FLOAT"}],"properties":{"Node name for S&R":"DF_Int_to_Float"},"widgets_values":[712],"color":"#432","bgcolor":"#653"},{"id":1492,"type":"ConditioningSetMask","pos":[740,500],"size":{"0":320,"1":100},"flags":{"collapsed":true},"order":320,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":3228,"label":"conditioning"},{"name":"mask","type":"MASK","link":4369,"label":"mask"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3230],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"title":"Conditioning (主体)","properties":{"Node name for S&R":"ConditioningSetMask"},"widgets_values":[1,"default"],"color":"#432","bgcolor":"#653"},{"id":1963,"type":"MaskComposite","pos":[260,500],"size":{"0":320,"1":340},"flags":{"collapsed":true},"order":202,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":4366,"label":"destination"},{"name":"source","type":"MASK","link":4367,"label":"source"}],"outputs":[{"name":"MASK","type":"MASK","links":[4369],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"subtract"],"color":"#432","bgcolor":"#653"},{"id":1478,"type":"CLIPTextEncode","pos":[480,320],"size":{"0":210,"1":100},"flags":{"collapsed":true},"order":274,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3196,"label":"clip"},{"name":"text","type":"STRING","link":3186,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3231],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Photography girl , realistic, outdoors, sky, water, tree, ocean, scenery, snow, sunset, horizon, winter, bare_tree, shore"],"color":"#432","bgcolor":"#653"},{"id":6,"type":"CLIPTextEncode","pos":[490,150],"size":{"0":210,"1":100},"flags":{"collapsed":true},"order":272,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":1550,"label":"clip"},{"name":"text","type":"STRING","link":884,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3234],"slot_index":0,"label":"CONDITIONING"}],"title":"Conditioning (风格与背景)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Photography girl , realistic, outdoors, sky, water, tree, ocean, scenery, snow, sunset, horizon, winter, bare_tree, shore"],"color":"#432","bgcolor":"#653"},{"id":684,"type":"CLIPSetLastLayer","pos":[190,220],"size":{"0":220,"1":60},"flags":{"collapsed":true},"order":200,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":1549,"label":"clip"}],"outputs":[{"name":"CLIP","type":"CLIP","links":[1550,1551,3196,3213],"shape":3,"label":"CLIP","slot_index":0}],"properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2],"color":"#432","bgcolor":"#653"},{"id":180,"type":"GetNode","pos":[1270,270],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":96,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[669],"slot_index":0,"label":"INT"}],"title":"Get_Seed","properties":{},"widgets_values":["Seed"],"color":"#432","bgcolor":"#653"},{"id":353,"type":"GetNode","pos":[1280,330],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":97,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[734],"slot_index":0,"label":"VAE"}],"title":"Get_Vae","properties":{},"widgets_values":["Vae"],"color":"#432","bgcolor":"#653"},{"id":1538,"type":"InvertMask","pos":[3120,1620],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":222,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3491,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[3487],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"InvertMask"},"color":"#233","bgcolor":"#355"},{"id":1575,"type":"RemapMaskRange","pos":[3120,1670],"size":{"0":210,"1":100},"flags":{"collapsed":true},"order":303,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3487,"label":"mask"},{"name":"max","type":"FLOAT","link":3493,"widget":{"name":"max"},"label":"max"}],"outputs":[{"name":"mask","type":"MASK","links":[3489],"shape":3,"slot_index":0,"label":"mask"}],"properties":{"Node name for S&R":"RemapMaskRange"},"widgets_values":[0,1],"color":"#233","bgcolor":"#355"},{"id":1577,"type":"DF_Float","pos":[3120,1720],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":233,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":3486,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3493],"shape":3,"slot_index":0,"label":"FLOAT"}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[1],"color":"#233","bgcolor":"#355"},{"id":1574,"type":"GetNode","pos":[3120,1770],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":98,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3486],"slot_index":0,"label":"FLOAT"}],"title":"Get_Artistic adjustment","properties":{},"widgets_values":["Artistic adjustment"],"color":"#233","bgcolor":"#355"},{"id":1508,"type":"GetNode","pos":[3120,1830],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":99,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3285],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_Tile","properties":{},"widgets_values":["CN_Tile"],"color":"#233","bgcolor":"#355"},{"id":1757,"type":"Reroute","pos":[-940,1710],"size":[75,26],"flags":{},"order":285,"mode":0,"inputs":[{"name":"","type":"*","link":4450,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[3959,3967],"label":"INT","slot_index":0}],"title":"Width","properties":{"showOutputText":true,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":1758,"type":"Reroute","pos":[-830,1710],"size":[75,26],"flags":{},"order":286,"mode":0,"inputs":[{"name":"","type":"*","link":3956,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[3960,3968],"label":"INT","slot_index":0}],"properties":{"showOutputText":true,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":793,"type":"GetNode","pos":[3510,200],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":100,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[1880],"slot_index":0,"label":"VAE"}],"title":"Get_Vae","properties":{},"widgets_values":["Vae"],"color":"#432","bgcolor":"#653"},{"id":479,"type":"GetNode","pos":[2520,200],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":101,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[1051],"slot_index":0,"label":"VAE"}],"title":"Get_Vae","properties":{},"widgets_values":["Vae"],"color":"#432","bgcolor":"#653"},{"id":1760,"type":"ImageResize+","pos":[5610,1130],"size":{"0":320,"1":220},"flags":{"collapsed":true},"order":467,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3979,"label":"image"},{"name":"width","type":"INT","link":3977,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":3978,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4457,4490],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[512,512,"nearest","stretch","always",0]},{"id":1166,"type":"Reroute","pos":[5640,-240],"size":[82,26],"flags":{},"order":501,"mode":0,"inputs":[{"name":"","type":"*","link":2579,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4459,4491],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":2065,"type":"Label (rgthree)","pos":{"0":2240,"1":2630,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":256,"1":32},"flags":{"allow_interaction":true},"order":102,"mode":0,"inputs":[],"outputs":[],"title":"深度图切换及调整","properties":{"fontSize":32,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":1681,"type":"Reroute","pos":[2340,2220],"size":[82,26],"flags":{},"order":435,"mode":0,"inputs":[{"name":"","type":"*","link":4386,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3717,3721,3821],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#233","bgcolor":"#355"},{"id":1706,"type":"GetNode","pos":[3340,2560],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":103,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3819],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_LineArt","properties":{},"widgets_values":["CN_LineArt"],"color":"#233","bgcolor":"#355"},{"id":1677,"type":"GetNode","pos":[2690,2560],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":104,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3716],"slot_index":0,"label":"CONTROL_NET"}],"title":"Get_CN_Tile","properties":{},"widgets_values":["CN_Tile"],"color":"#233","bgcolor":"#355"},{"id":1707,"type":"AnimeLineArtPreprocessor","pos":[2340,2290],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":441,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3821,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3822,3823],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"AnimeLineArtPreprocessor"},"widgets_values":[768],"color":"#233","bgcolor":"#355"},{"id":1536,"type":"GetNode","pos":[2280,1580],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":105,"mode":0,"outputs":[{"name":"*","type":"*","links":[3380],"slot_index":0,"label":"*"}],"title":"Get_Main Mask","properties":{},"widgets_values":["Main Mask"],"color":"#233","bgcolor":"#355"},{"id":997,"type":"Note","pos":[-130,1780],"size":{"0":290,"1":80},"flags":{},"order":106,"mode":0,"properties":{"text":""},"widgets_values":["组功能：\n调整图片大小，混合主体与背景，混合前景蒙版。"],"color":"#332922","bgcolor":"#593930"},{"id":276,"type":"SAMLoader","pos":[8340,2440],"size":{"0":320,"1":80},"flags":{},"order":107,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[2397],"shape":3,"label":"SAM_MODEL","slot_index":0}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"],"color":"#332922","bgcolor":"#593930"},{"id":2067,"type":"EG_RY_HT","pos":[2760,3150],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":108,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4536],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"前景蒙版亮度调节","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[1],"color":"#332922","bgcolor":"#593930"},{"id":2068,"type":"EG_RY_HT","pos":[2760,2930],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":109,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4537],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"主体亮度调节","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[0.9500000000000001],"color":"#332922","bgcolor":"#593930"},{"id":748,"type":"PreviewImage","pos":[1440,1450],"size":{"0":210,"1":250},"flags":{},"order":383,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1760,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#233","bgcolor":"#355"},{"id":30,"type":"Reroute","pos":[840,860],"size":[140.8,26],"flags":{},"order":360,"mode":0,"inputs":[{"name":"","type":"*","link":3236,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3643,4564],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":418,"type":"Reroute","pos":[840,890],"size":[140.8,26],"flags":{},"order":318,"mode":0,"inputs":[{"name":"","type":"*","link":1805,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3644,4565],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":16,"type":"ACN_AdvancedControlNetApply","pos":[1750,1980],"size":{"0":340,"1":290},"flags":{},"order":419,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4397,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4398,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":2787,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":16,"label":"image"},{"name":"mask_optional","type":"MASK","link":3565,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"label":"timestep_kf"},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"strength","type":"FLOAT","link":2533,"widget":{"name":"strength"},"label":"strength"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4566],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4567],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.75,0,1,""],"color":"#233","bgcolor":"#355"},{"id":625,"type":"ImpactSimpleDetectorSEGS","pos":[720,1720],"size":{"0":320,"1":310},"flags":{"collapsed":true},"order":238,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":4559,"label":"bbox_detector"},{"name":"image","type":"IMAGE","link":3780,"label":"image"},{"name":"sam_model_opt","type":"SAM_MODEL","link":2404,"label":"sam_model_opt","slot_index":2},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[1389],"shape":3,"label":"SEGS","slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.5,0,3,10,0.5,0,0,0.7,0],"color":"#233","bgcolor":"#355"},{"id":617,"type":"ACN_AdvancedControlNetApply","pos":[1700,1440],"size":{"0":300,"1":290},"flags":{},"order":421,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4566,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4567,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":2786,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":1759,"label":"image"},{"name":"mask_optional","type":"MASK","link":3785,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":2482,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"strength","type":"FLOAT","link":2373,"widget":{"name":"strength"},"label":"strength"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4568],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4569],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.7000000000000001,0,1,""],"color":"#233","bgcolor":"#355"},{"id":1047,"type":"SimpleMath+","pos":[1700,1790],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":305,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":2542,"label":"a"},{"name":"b","type":"INT,FLOAT","link":3535,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT","slot_index":0},{"name":"FLOAT","type":"FLOAT","links":[2373],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*b"],"color":"#233","bgcolor":"#355"},{"id":1592,"type":"GetNode","pos":[1390,1790],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":110,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3534],"slot_index":0,"label":"FLOAT"}],"title":"Get_CN Strenght","properties":{},"widgets_values":["CN Strenght"],"color":"#233","bgcolor":"#355"},{"id":1593,"type":"DF_Float","pos":[1570,1790],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":236,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":3534,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3535],"shape":3,"label":"FLOAT","slot_index":0}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.85],"color":"#233","bgcolor":"#355"},{"id":765,"type":"InpaintPreprocessor","pos":[1190,1460],"size":{"0":210,"1":50},"flags":{},"order":375,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":3782,"label":"image"},{"name":"mask","type":"MASK","link":1758,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1759,1760],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"InpaintPreprocessor"},"color":"#233","bgcolor":"#355"},{"id":1749,"type":"ScaledSoftControlNetWeights","pos":[790,1990],"size":{"0":270,"1":130},"flags":{"collapsed":false},"order":111,"mode":0,"inputs":[{"name":"cn_extras","type":"CN_WEIGHTS_EXTRAS","link":null,"label":"cn_extras"}],"outputs":[{"name":"CN_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":null,"shape":3,"label":"CN_WEIGHTS"},{"name":"TK_SHORTCUT","type":"TIMESTEP_KEYFRAME","links":[3924,4319,4411,4412],"shape":3,"slot_index":1,"label":"TK_SHORTCUT"}],"properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.9,false,1,""],"color":"#233","bgcolor":"#355"},{"id":1145,"type":"DF_Float","pos":[500,2100],"size":{"0":270,"1":70},"flags":{"collapsed":false},"order":112,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2539],"shape":3,"label":"FLOAT","slot_index":0}],"title":"Base Multiplier","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.8300000000000001],"color":"#233","bgcolor":"#355"},{"id":1131,"type":"DF_Text_Box","pos":[5730,3880],"size":{"0":360,"1":210},"flags":{"pinned":true},"order":113,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[3633],"shape":3,"slot_index":0,"label":"STRING"}],"title":"主体反推提示词拷贝到这里","properties":{"Node name for S&R":"DF_Text_Box"},"widgets_values":["(grey trousers:1.2)"],"color":"#323","bgcolor":"#535"},{"id":2062,"type":"Label (rgthree)","pos":{"0":7890,"1":1330,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":624,"1":48},"flags":{"allow_interaction":true},"order":114,"mode":0,"inputs":[],"outputs":[],"title":"工作流操作说明以及调用模型","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":1787,"type":"easy bookmark","pos":[2260,2760],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":115,"mode":0,"title":"🔖 4","properties":{},"widgets_values":["4",1.2]},{"id":1790,"type":"easy bookmark","pos":[4050,-1420],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":116,"mode":0,"title":"🔖 7","properties":{},"widgets_values":["7",1.3]},{"id":1960,"type":"Any Switch (rgthree)","pos":{"0":1710,"1":-360,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":170,"1":110},"flags":{"collapsed":true},"order":477,"mode":0,"inputs":[{"name":"any_01","type":"IMAGE","link":4522,"label":"any_01","dir":3},{"name":"any_02","type":"IMAGE","link":4468,"label":"any_02","dir":3},{"name":"any_03","type":"IMAGE","link":null,"label":"any_03","dir":3},{"name":"any_04","type":"IMAGE","link":null,"label":"any_04","dir":3},{"name":"any_05","type":"IMAGE","link":null}],"outputs":[{"name":"*","type":"IMAGE","links":[4472],"shape":3,"label":"IMAGE","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)"},"widgets_values":[]},{"id":1126,"type":"IPAdapterUnifiedLoader","pos":[2990,-2120],"size":{"0":320,"1":80},"flags":{},"order":411,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":2496,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":2497,"label":"ipadapter"}],"outputs":[{"name":"model","type":"MODEL","links":[2558],"shape":3,"label":"model","slot_index":0},{"name":"ipadapter","type":"IPADAPTER","links":null,"shape":3,"label":"ipadapter"}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["FULL FACE - SD1.5 only (portraits stronger)"],"color":"#223","bgcolor":"#335"},{"id":1125,"type":"IPAdapterFaceID","pos":[2990,-1990],"size":{"0":320,"1":320},"flags":{},"order":403,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":2492,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":2493,"label":"ipadapter"},{"name":"image","type":"IMAGE","link":3602,"label":"image"},{"name":"image_negative","type":"IMAGE","link":null,"label":"image_negative"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"},{"name":"clip_vision","type":"CLIP_VISION","link":null,"label":"clip_vision"},{"name":"insightface","type":"INSIGHTFACE","link":null,"label":"insightface"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2496],"shape":3,"label":"MODEL","slot_index":0},{"name":"face_image","type":"IMAGE","links":null,"shape":3,"label":"face_image"}],"properties":{"Node name for S&R":"IPAdapterFaceID"},"widgets_values":[0.8,0.8,"linear","concat",0,1,"V only"],"color":"#223","bgcolor":"#335"},{"id":204,"type":"PreviewImage","pos":[3330,-2120],"size":{"0":200,"1":250},"flags":{},"order":343,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":422,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335"},{"id":2052,"type":"Label (rgthree)","pos":{"0":2380,"1":-2280,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":480,"1":48},"flags":{"allow_interaction":true},"order":117,"mode":0,"inputs":[],"outputs":[],"title":"面部迁移以及面部修复","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":2054,"type":"Label (rgthree)","pos":{"0":3700,"1":-1450,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":192,"1":48},"flags":{"allow_interaction":true},"order":118,"mode":0,"inputs":[],"outputs":[],"title":"手部修复","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":1789,"type":"easy bookmark","pos":[1390,-1680],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":119,"mode":0,"title":"🔖 6","properties":{},"widgets_values":["6",1]},{"id":2053,"type":"Label (rgthree)","pos":{"0":1480,"1":-1720,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":288,"1":48},"flags":{"allow_interaction":true},"order":120,"mode":0,"inputs":[],"outputs":[],"title":"主体还原处理","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":2002,"type":"Reroute","pos":[1920,-390],"size":[82,26],"flags":{},"order":463,"mode":0,"inputs":[{"name":"","type":"*","link":4465,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4468,4469,4515],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":318,"type":"Reroute","pos":[2710,-390],"size":[82,26],"flags":{},"order":478,"mode":0,"inputs":[{"name":"","type":"*","link":4472,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3597],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":627,"type":"SegsToCombinedMask","pos":[930,1720],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":306,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":1389,"label":"segs"}],"outputs":[{"name":"MASK","type":"MASK","links":[4554,4575],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"SegsToCombinedMask"},"color":"#233","bgcolor":"#355"},{"id":2078,"type":"GetNode","pos":[540,1690],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":121,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[4559],"slot_index":0,"label":"BBOX_DETECTOR"}],"title":"Get_BBOX_Face","properties":{},"widgets_values":["BBOX_Face"],"color":"#233","bgcolor":"#355"},{"id":1073,"type":"GetNode","pos":[530,1740],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":122,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[2404,4557],"slot_index":0,"label":"SAM_MODEL"}],"title":"Get_SAM_MODEL","properties":{},"widgets_values":["SAM_MODEL"],"color":"#233","bgcolor":"#355"},{"id":616,"type":"SegsToCombinedMask","pos":[940,1770],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":307,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":1362,"label":"segs"}],"outputs":[{"name":"MASK","type":"MASK","links":[4553,4574],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"SegsToCombinedMask"},"color":"#233","bgcolor":"#355"},{"id":766,"type":"InvertMask","pos":[1180,1770],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":367,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4576,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[1758],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"InvertMask"},"color":"#233","bgcolor":"#355"},{"id":1072,"type":"GetNode","pos":[540,1790],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":123,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[4556],"slot_index":0,"label":"BBOX_DETECTOR"}],"title":"Get_BBOX_Hand","properties":{},"widgets_values":["BBOX_Hand"],"color":"#233","bgcolor":"#355"},{"id":614,"type":"ImpactSimpleDetectorSEGS","pos":[730,1770],"size":{"0":270,"1":310},"flags":{"collapsed":true},"order":239,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":4556,"label":"bbox_detector"},{"name":"image","type":"IMAGE","link":2771,"label":"image"},{"name":"sam_model_opt","type":"SAM_MODEL","link":4557,"label":"sam_model_opt","slot_index":2},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[1362],"shape":3,"label":"SEGS","slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.5,0,3,10,0.5,0,0,0.7,0],"color":"#233","bgcolor":"#355"},{"id":2075,"type":"MaskComposite","pos":[1170,1720],"size":{"0":320,"1":130},"flags":{"collapsed":true},"order":338,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":4553,"label":"destination"},{"name":"source","type":"MASK","link":4554,"label":"source"}],"outputs":[{"name":"MASK","type":"MASK","links":[4573],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"add"],"color":"#233","bgcolor":"#355"},{"id":2084,"type":"Note","pos":[550,1460],"size":{"0":250,"1":140},"flags":{},"order":124,"mode":0,"properties":{"text":""},"widgets_values":["通过开关可以选择面部和手部还原方式：\n\n1、加强还原面部以及手部；\n2、仅加强手部；\n3、仅加强面部；"],"color":"#233","bgcolor":"#355"},{"id":2083,"type":"ImpactSwitch","pos":[840,1460],"size":{"0":300,"1":140},"flags":{},"order":354,"mode":0,"inputs":[{"name":"input1","type":"MASK","link":4573,"label":"input1"},{"name":"input2","type":"MASK","link":4574,"label":"input2"},{"name":"input3","type":"MASK","link":4575,"label":"input3"},{"name":"input4","type":"MASK","link":null,"label":"input4"}],"outputs":[{"name":"MASK","type":"MASK","links":[4576],"shape":3,"label":"MASK","slot_index":0},{"name":"selected_label","type":"STRING","links":null,"shape":3,"label":"selected_label"},{"name":"selected_index","type":"INT","links":null,"shape":3,"label":"selected_index"}],"title":"1:脸和手__2:手部__3:脸部","properties":{"Node name for S&R":"ImpactSwitch"},"widgets_values":[1,true],"color":"#233","bgcolor":"#355"},{"id":356,"type":"ControlNetLoader","pos":[8340,1510],"size":{"0":320,"1":60},"flags":{},"order":125,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2783],"shape":3,"label":"CONTROL_NET","slot_index":0}],"title":"Load ControlNet Model (Inpaint)","properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["ControlNet-v1-1-diff/control_v11p_sd15_inpaint_fp16.safetensors"],"color":"#233","bgcolor":"#355"},{"id":22,"type":"ControlNetLoader","pos":[8340,1620],"size":{"0":320,"1":60},"flags":{},"order":126,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2782],"shape":3,"label":"CONTROL_NET","slot_index":0}],"title":"Load ControlNet Model (LineArt)","properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["ControlNet-v1-1-diff/control_v11p_sd15_lineart_fp16.safetensors"],"color":"#233","bgcolor":"#355"},{"id":24,"type":"ControlNetLoader","pos":[8680,1620],"size":{"0":320,"1":60},"flags":{},"order":127,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2780],"shape":3,"label":"CONTROL_NET","slot_index":0}],"title":"Load ControlNet Model (Depth)","properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["ControlNet-v1-1-diff/control_v11f1p_sd15_depth_fp16.safetensors"],"color":"#233","bgcolor":"#355"},{"id":1941,"type":"ControlNetLoader","pos":[8680,1730],"size":{"0":320,"1":60},"flags":{},"order":128,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[4314],"shape":3,"label":"CONTROL_NET","slot_index":0}],"title":"Load ControlNet Model (Scribble)","properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["ControlNet-v1-1-diff/control_v11p_sd15_scribble_fp16.safetensors"],"color":"#233","bgcolor":"#355"},{"id":17,"type":"ControlNetLoader","pos":[8340,1730],"size":{"0":320,"1":60},"flags":{},"order":129,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2781],"shape":3,"label":"CONTROL_NET","slot_index":0}],"title":"Load ControlNet Model (OpenPose)","properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["ControlNet-v1-1-diff/control_v11p_sd15_openpose_fp16.safetensors"],"color":"#233","bgcolor":"#355"},{"id":801,"type":"ControlNetLoader","pos":[8680,1510],"size":{"0":320,"1":60},"flags":{},"order":130,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2779],"shape":3,"label":"CONTROL_NET","slot_index":0}],"title":"Load ControlNet Model (Tile)","properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["ControlNet-v1-1-diff/control_v11f1e_sd15_tile_fp16.safetensors"],"color":"#233","bgcolor":"#355"},{"id":2091,"type":"ImageCASharpening+","pos":[-180,-1440],"size":{"0":310,"1":60},"flags":{},"order":340,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4598,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4600,4601],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageCASharpening+"},"widgets_values":[0.5],"color":"#223","bgcolor":"#335"},{"id":2092,"type":"PreviewImage","pos":[160,-1440],"size":{"0":210,"1":250},"flags":{},"order":356,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4601,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335"},{"id":2096,"type":"ImageCASharpening+","pos":[720,-1440],"size":{"0":320,"1":60},"flags":{},"order":341,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4605,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4606,4608],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageCASharpening+"},"widgets_values":[0.5],"color":"#223","bgcolor":"#335"},{"id":2097,"type":"PreviewImage","pos":[1070,-1440],"size":{"0":210,"1":250},"flags":{},"order":357,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4606,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335"},{"id":1930,"type":"MaskPreview+","pos":[160,-1130],"size":{"0":200,"1":250},"flags":{},"order":355,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4361,"label":"mask"}],"properties":{"Node name for S&R":"MaskPreview+"},"color":"#223","bgcolor":"#335"},{"id":1116,"type":"MaskPreview+","pos":[1080,-1120],"size":{"0":200,"1":250},"flags":{},"order":246,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3098,"label":"mask"}],"properties":{"Node name for S&R":"MaskPreview+"},"color":"#223","bgcolor":"#335"},{"id":1156,"type":"DF_Float","pos":[490,-1320],"size":{"0":210,"1":60},"flags":{},"order":131,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2555],"shape":3,"label":"FLOAT","slot_index":0}],"title":"end_at","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[1],"color":"#223","bgcolor":"#335"},{"id":1273,"type":"GetNode","pos":[540,-740],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":132,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[3098,4589],"slot_index":0,"label":"MASK"}],"title":"Get_Merge Mask","properties":{},"widgets_values":["Merge Mask"],"color":"#223","bgcolor":"#335"},{"id":1099,"type":"GetNode","pos":[600,-780],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":133,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2551],"slot_index":0,"label":"FLOAT"}],"title":"Get_Style Strenght（main）","properties":{},"widgets_values":["Style Strenght（main）"],"color":"#223","bgcolor":"#335"},{"id":1104,"type":"SimpleMath+","pos":[900,-740],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":309,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":2665,"label":"a"},{"name":"b","type":"INT,FLOAT","link":2664,"label":"b","slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT"},{"name":"FLOAT","type":"FLOAT","links":[4587],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*b"],"color":"#223","bgcolor":"#335"},{"id":1268,"type":"GetNode","pos":[710,-740],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":134,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4607],"slot_index":0,"label":"IMAGE"}],"title":"Get_Filtered images","properties":{},"widgets_values":["Filtered images"],"color":"#223","bgcolor":"#335"},{"id":1154,"type":"DF_Float","pos":[790,-780],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":247,"mode":0,"inputs":[{"name":"Value","type":"FLOAT","link":2551,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2661,2664],"shape":3,"label":"FLOAT","slot_index":0}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[1],"color":"#223","bgcolor":"#335"},{"id":1098,"type":"SimpleMath+","pos":[900,-780],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":308,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":2555,"label":"a"},{"name":"b","type":"INT,FLOAT","link":2661,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":null,"shape":3,"label":"INT"},{"name":"FLOAT","type":"FLOAT","links":[4588],"shape":3,"label":"FLOAT","slot_index":1}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a-(1-b)/2"],"color":"#223","bgcolor":"#335"},{"id":2012,"type":"GetNode","pos":[-60,-770],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":135,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4581],"slot_index":0,"label":"FLOAT"}],"title":"Get_BG_IPA_End_at","properties":{},"widgets_values":["BG_IPA_End_at"],"color":"#223","bgcolor":"#335"},{"id":127,"type":"GetNode","pos":[-200,-770],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":136,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[2447],"slot_index":0,"label":"MODEL"}],"title":"Get_Model","properties":{},"widgets_values":["Model"],"color":"#223","bgcolor":"#335"},{"id":1931,"type":"GetNode","pos":[-580,-770],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":137,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[4311],"slot_index":0,"label":"MASK"}],"title":"Get_Foreground mask","properties":{},"widgets_values":["Foreground mask"],"color":"#223","bgcolor":"#335"},{"id":199,"type":"GetNode","pos":[-380,-770],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":138,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4599],"slot_index":0,"label":"IMAGE"}],"title":"Get_Image_BKG","properties":{},"widgets_values":["Image_BKG"],"color":"#223","bgcolor":"#335"},{"id":1961,"type":"RemapMaskRange","pos":[-50,-810],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":339,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4360,"label":"mask"}],"outputs":[{"name":"mask","type":"MASK","links":[4361,4582],"shape":3,"slot_index":0,"label":"mask"}],"properties":{"Node name for S&R":"RemapMaskRange"},"widgets_values":[0,1],"color":"#223","bgcolor":"#335"},{"id":2086,"type":"IPAdapterClipVisionEnhancer","pos":[720,-1330],"size":{"0":320,"1":330},"flags":{},"order":376,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":4584,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":4585,"label":"ipadapter"},{"name":"image","type":"IMAGE","link":4608,"label":"image"},{"name":"image_negative","type":"IMAGE","link":null,"label":"image_negative"},{"name":"attn_mask","type":"MASK","link":4589,"label":"attn_mask"},{"name":"clip_vision","type":"CLIP_VISION","link":null,"label":"clip_vision"},{"name":"end_at","type":"FLOAT","link":4588,"widget":{"name":"end_at"},"label":"end_at"},{"name":"weight","type":"FLOAT","link":4587,"widget":{"name":"weight"},"label":"weight"},{"name":"enhance_tiles","type":"INT","link":4619,"widget":{"name":"enhance_tiles"},"label":"enhance_tiles"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[4620],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterClipVisionEnhancer"},"widgets_values":[0.8,"linear","concat",0,1,"V only",2,1],"color":"#223","bgcolor":"#335"},{"id":2088,"type":"ImageScale","pos":[-370,-850],"size":{"0":210,"1":130},"flags":{"collapsed":true},"order":311,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4599,"label":"image"},{"name":"width","type":"INT","link":4595,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":4596,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4598],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["lanczos",224,224,"disabled"],"color":"#223","bgcolor":"#335"},{"id":2093,"type":"ImageScale","pos":[900,-820],"size":{"0":210,"1":130},"flags":{"collapsed":true},"order":312,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4607,"label":"image"},{"name":"width","type":"INT","link":4602,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":4603,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4605],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["lanczos",224,224,"disabled"],"color":"#223","bgcolor":"#335"},{"id":2095,"type":"SimpleMath+","pos":[740,-820],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":251,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":4618,"label":"a"},{"name":"b","type":"INT,FLOAT","link":null,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":[4602,4603],"shape":3,"slot_index":0,"label":"INT"},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"label":"FLOAT"}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*224"],"color":"#223","bgcolor":"#335"},{"id":1155,"type":"DF_Float","pos":[490,-1440],"size":{"0":210,"1":60},"flags":{},"order":139,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2665],"shape":3,"label":"FLOAT","slot_index":0}],"title":"weight","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[1],"color":"#223","bgcolor":"#335"},{"id":2051,"type":"Label (rgthree)","pos":{"0":-700,"1":-1640,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":432,"1":48},"flags":{"allow_interaction":true},"order":140,"mode":0,"inputs":[],"outputs":[],"title":"主体及背景风格迁移","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":1788,"type":"easy bookmark","pos":[-820,-1650],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":141,"mode":0,"title":"🔖 5","properties":{},"widgets_values":["5",0.95]},{"id":1152,"type":"DF_Float","pos":[1380,2720],"size":{"0":220,"1":60},"flags":{"collapsed":false},"order":142,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[3241],"shape":3,"label":"FLOAT","slot_index":0}],"title":"Strength","properties":{"Node name for S&R":"DF_Float"},"widgets_values":[0.8],"color":"#233","bgcolor":"#355"},{"id":23,"type":"ACN_AdvancedControlNetApply","pos":[1860,2530],"size":{"0":290,"1":270},"flags":{},"order":414,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":4395,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4396,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":2789,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":2647,"label":"image"},{"name":"mask_optional","type":"MASK","link":3124,"label":"mask_optional","slot_index":4},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":4411,"label":"timestep_kf","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override","slot_index":7},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"},{"name":"strength","type":"FLOAT","link":3242,"widget":{"name":"strength"},"label":"strength"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[4397],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[4398],"shape":3,"label":"negative","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.45,0,1,""],"color":"#233","bgcolor":"#355"},{"id":2089,"type":"SimpleMath+","pos":[-640,-1300],"size":{"0":320,"1":80},"flags":{},"order":143,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":null,"label":"a"},{"name":"b","type":"INT,FLOAT","link":null,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":[4597,4609,4618,4619],"shape":3,"slot_index":0,"label":"INT"},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"label":"FLOAT"}],"title":"平铺嵌入的数值","properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["6"],"color":"#223","bgcolor":"#335"},{"id":2069,"type":"EG_RY_HT","pos":[2760,3040],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":144,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4538],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"自定义深度图亮度调节","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[0.9500000000000001],"color":"#332922","bgcolor":"#593930"},{"id":953,"type":"MaskBlur+","pos":[2760,3260],"size":{"0":300,"1":80},"flags":{},"order":363,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2239,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[2256],"shape":3,"label":"MASK","slot_index":0}],"title":"前景蒙版边缘模糊","properties":{"Node name for S&R":"MaskBlur+"},"widgets_values":[8,"auto"],"color":"#332922","bgcolor":"#593930"},{"id":2066,"type":"EG_RY_HT","pos":[2760,2820],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":145,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4535],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"原图背景亮度","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[0.9500000000000001],"color":"#332922","bgcolor":"#593930"},{"id":743,"type":"Image Generate Gradient","pos":[3080,2950],"size":{"0":240,"1":350},"flags":{},"order":347,"mode":0,"inputs":[{"name":"width","type":"INT","link":3920,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":3921,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4570],"shape":3,"label":"IMAGE","slot_index":0}],"title":"节点生成背景深度图","properties":{"Node name for S&R":"Image Generate Gradient"},"widgets_values":[512,512,"vertical",0,"0:0,0,0\n55:0,0,0\n100:250,250,250"],"color":"#332922","bgcolor":"#593930"},{"id":2079,"type":"LoadImage","pos":[3090,3350],"size":[230,310],"flags":{},"order":146,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4571],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"上传绘制的背景深度图","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["Portrait181a-copy-819x1024-enhance-2x-faceai-sharpen.jpeg","image"],"color":"#332922","bgcolor":"#593930"},{"id":902,"type":"Note","pos":[2760,3390],"size":{"0":300,"1":270},"flags":{"pinned":false},"order":147,"mode":0,"properties":{"text":""},"widgets_values":["1、原始深度图\n使用原图背景生成的深度图，如果原始深度图与参考图冲突导致画面不协调可以尝试切换到自定义深度。\n\n2、自定义深度\n--通过“Image Generate Gradient”节点生成黑白渐变背景来模拟背景深度。参数格式（画面位置百分比:R,G,B）\n--也可以自行上传绘制的背景深度图，打开上传图片节点后，自定义的背景图会自动切换成上传的图片\n\n3、亮度调节\n可以调整深度图不同部分的明亮度，以此来对背景或前景进行微调。\n\n4、前景蒙版边缘模糊\n对边缘进行模糊处理可以使前景与画面过渡更加柔和"],"color":"#332922","bgcolor":"#593930"},{"id":824,"type":"CR Image Input Switch","pos":[3080,2820],"size":{"0":700,"1":80},"flags":{},"order":395,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":2270,"label":"image1"},{"name":"image2","type":"IMAGE","link":2269,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2644],"shape":3,"label":"IMAGE","slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"title":"1:原始深度图__2:自定义深度（启用上传图片节点后则自动切换成上传的深度图）","properties":{"Node name for S&R":"CR Image Input Switch"},"widgets_values":[1],"color":"#332922","bgcolor":"#593930"},{"id":1832,"type":"Reroute","pos":[2420,2810],"size":[82,26],"flags":{},"order":277,"mode":0,"inputs":[{"name":"","type":"*","link":4226,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4111,4227,4229],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#332922","bgcolor":"#593930"},{"id":977,"type":"PreviewImage","pos":[3340,2950],"size":{"0":440,"1":710},"flags":{},"order":412,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2645,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#332922","bgcolor":"#593930"},{"id":934,"type":"GetNode","pos":[2420,2930],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":148,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[2235],"slot_index":0,"label":"MASK"}],"title":"Get_mask","properties":{},"widgets_values":["mask"],"color":"#332922","bgcolor":"#593930"},{"id":1748,"type":"GetImageSize+","pos":[2420,2970],"size":{"0":210,"1":70},"flags":{"collapsed":true},"order":322,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4111,"label":"image"}],"outputs":[{"name":"width","type":"INT","links":[3920,3922],"shape":3,"slot_index":0,"label":"width"},{"name":"height","type":"INT","links":[3921,3923],"shape":3,"slot_index":1,"label":"height"},{"name":"count","type":"INT","links":null,"shape":3,"label":"count"}],"properties":{"Node name for S&R":"GetImageSize+"},"color":"#332922","bgcolor":"#593930"},{"id":949,"type":"ResizeMask","pos":[2420,3020],"size":{"0":210,"1":150},"flags":{"collapsed":true},"order":348,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2235,"label":"mask"},{"name":"width","type":"INT","link":3922,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":3923,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"mask","type":"MASK","links":[2239],"shape":3,"label":"mask","slot_index":0},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ResizeMask"},"widgets_values":[512,512,false],"color":"#332922","bgcolor":"#593930"},{"id":1900,"type":"LayerColor: Brightness & Contrast","pos":[2420,3070],"size":{"0":250,"1":110},"flags":{"collapsed":true},"order":323,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4227,"label":"image"},{"name":"brightness","type":"FLOAT","link":4535,"widget":{"name":"brightness"},"label":"brightness"}],"outputs":[{"name":"image","type":"IMAGE","links":[4228],"shape":3,"slot_index":0,"label":"image"}],"title":"原图背景亮度","properties":{"Node name for S&R":"LayerColor: Brightness & Contrast"},"widgets_values":[0.9500000000000001,1,1],"color":"#332922","bgcolor":"#593930"},{"id":1272,"type":"GetNode","pos":[2420,3110],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":149,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[2768],"slot_index":0,"label":"MASK"}],"title":"Get_Merge Mask","properties":{},"widgets_values":["Merge Mask"],"color":"#332922","bgcolor":"#593930"},{"id":1083,"type":"ImageCompositeFromMaskBatch+","pos":[2420,3150],"size":{"0":210,"1":70},"flags":{"collapsed":true},"order":349,"mode":0,"inputs":[{"name":"image_from","type":"IMAGE","link":4228,"label":"image_from"},{"name":"image_to","type":"IMAGE","link":4230,"label":"image_to"},{"name":"mask","type":"MASK","link":2768,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2425],"shape":3,"label":"IMAGE","slot_index":0}],"title":"🔧 Image Composite","properties":{"Node name for S&R":"ImageCompositeFromMaskBatch+"},"color":"#332922","bgcolor":"#593930"},{"id":973,"type":"ImageBlend","pos":[2420,3200],"size":{"0":210,"1":100},"flags":{"collapsed":true},"order":386,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":4221,"label":"image1"},{"name":"image2","type":"IMAGE","link":2425,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2270],"shape":3,"label":"IMAGE","slot_index":0}],"title":"原深度图混合前景","properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[1,"screen"],"color":"#332922","bgcolor":"#593930"},{"id":970,"type":"MaskToImage","pos":[2420,3250],"size":{"0":200,"1":30},"flags":{"collapsed":true},"order":373,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":2256,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4220],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"},"color":"#332922","bgcolor":"#593930"},{"id":1898,"type":"LayerColor: Brightness & Contrast","pos":[2420,3300],"size":{"0":250,"1":110},"flags":{"collapsed":true},"order":380,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4220,"label":"image"},{"name":"brightness","type":"FLOAT","link":4536,"widget":{"name":"brightness"},"label":"brightness"}],"outputs":[{"name":"image","type":"IMAGE","links":[4221,4222],"shape":3,"slot_index":0,"label":"image"}],"title":"前景蒙版亮度调节","properties":{"Node name for S&R":"LayerColor: Brightness & Contrast"},"widgets_values":[1,1,1],"color":"#332922","bgcolor":"#593930"},{"id":975,"type":"ImageBlend","pos":[2420,3350],"size":{"0":320,"1":100},"flags":{"collapsed":true},"order":387,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":4222,"label":"image1"},{"name":"image2","type":"IMAGE","link":4532,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2269],"shape":3,"label":"IMAGE","slot_index":0}],"title":"自定义深度图混合前景","properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[1,"screen"],"color":"#332922","bgcolor":"#593930"},{"id":1474,"type":"GetNode","pos":[2420,3400],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":150,"mode":0,"outputs":[{"name":"*","type":"*","links":[3180],"slot_index":0,"label":"*"}],"title":"Get_Main Mask","properties":{},"widgets_values":["Main Mask"],"color":"#332922","bgcolor":"#593930"},{"id":956,"type":"GrowMask","pos":[2420,3450],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":252,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":3180,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[2248],"shape":3,"label":"MASK","slot_index":0}],"title":"主体蒙版收缩拓展","properties":{"Node name for S&R":"GrowMask"},"widgets_values":[0,true],"color":"#332922","bgcolor":"#593930"},{"id":742,"type":"ImageCompositeFromMaskBatch+","pos":[2420,3500],"size":{"0":240,"1":70},"flags":{"collapsed":true},"order":379,"mode":0,"inputs":[{"name":"image_from","type":"IMAGE","link":4534,"label":"image_from"},{"name":"image_to","type":"IMAGE","link":4296,"label":"image_to"},{"name":"mask","type":"MASK","link":2248,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4532],"shape":3,"label":"IMAGE","slot_index":0}],"title":"合并蒙版","properties":{"Node name for S&R":"ImageCompositeFromMaskBatch+"},"color":"#332922","bgcolor":"#593930"},{"id":1895,"type":"LayerColor: Brightness & Contrast","pos":[2420,3550],"size":{"0":220,"1":110},"flags":{"collapsed":true},"order":372,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4572,"label":"image"},{"name":"brightness","type":"FLOAT","link":4538,"widget":{"name":"brightness"},"label":"brightness"}],"outputs":[{"name":"image","type":"IMAGE","links":[4534],"shape":3,"slot_index":0,"label":"image"}],"title":"自定义深度图亮度","properties":{"Node name for S&R":"LayerColor: Brightness & Contrast"},"widgets_values":[0.9,1,1],"color":"#332922","bgcolor":"#593930"},{"id":2080,"type":"Any Switch (rgthree)","pos":{"0":2420,"1":3600,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":170,"1":110},"flags":{"collapsed":true},"order":362,"mode":0,"inputs":[{"name":"any_01","type":"IMAGE","link":4571,"dir":3,"label":"any_01"},{"name":"any_02","type":"IMAGE","link":4570,"dir":3,"label":"any_02"},{"name":"any_03","type":"IMAGE","link":null,"dir":3,"label":"any_03"},{"name":"any_04","type":"IMAGE","link":null,"dir":3,"label":"any_04"},{"name":"any_05","type":"IMAGE","link":null}],"outputs":[{"name":"*","type":"IMAGE","links":[4572],"shape":3,"label":"IMAGE","dir":4,"slot_index":0}],"properties":{},"widgets_values":[],"color":"#332922","bgcolor":"#593930"},{"id":1211,"type":"RemapImageRange","pos":[2420,3650],"size":{"0":250,"1":110},"flags":{"collapsed":true},"order":404,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2644,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2645,2646,2647,4330,4531],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"RemapImageRange"},"widgets_values":[0,1,true],"color":"#332922","bgcolor":"#593930"},{"id":1902,"type":"LayerColor: Brightness & Contrast","pos":[2420,2880],"size":{"0":250,"1":110},"flags":{"collapsed":true},"order":324,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4229,"label":"image"},{"name":"brightness","type":"FLOAT","link":4537,"widget":{"name":"brightness"},"label":"brightness"}],"outputs":[{"name":"image","type":"IMAGE","links":[4230,4296],"shape":3,"slot_index":0,"label":"image"}],"title":"主体亮度","properties":{"Node name for S&R":"LayerColor: Brightness & Contrast"},"widgets_values":[0.9500000000000001,1,1],"color":"#332922","bgcolor":"#593930"},{"id":1966,"type":"Note","pos":[-640,-1160],"size":{"0":320,"1":160},"flags":{},"order":151,"mode":0,"properties":{"text":""},"widgets_values":["新的 IPAdapterClipVisionEnhancer 尝试通过平铺嵌入（而不是像素空间中的图像）来捕获小细节，结果是分辨率略高的视觉嵌入，而没有性能成本。\n\n使用不同的IPAdapper模型以及weight_type(权重类型)呈现出来的背景效果也会不一样，可多尝试不同的参数设置。"],"color":"#223","bgcolor":"#335"},{"id":925,"type":"SDXLPromptStyler","pos":[5350,3490],"size":{"0":370,"1":280},"flags":{"pinned":true},"order":225,"mode":0,"inputs":[{"name":"text_negative","type":"STRING","link":3637,"widget":{"name":"text_negative"},"label":"text_negative"}],"outputs":[{"name":"text_positive","type":"STRING","links":[2204],"shape":3,"label":"text_positive","slot_index":0},{"name":"text_negative","type":"STRING","links":[2205],"shape":3,"label":"text_negative","slot_index":1}],"title":"正向提示词补充 + 风格选择","properties":{"Node name for S&R":"SDXLPromptStyler"},"widgets_values":["(best quality, masterpiece:1.2), bokeh, depth of field, professional, dramatic lighting","embedding:easy_negative.safetensors","photo-iphone photographic","No",true,true],"color":"#232","bgcolor":"#353"},{"id":842,"type":"IPAdapterUnifiedLoader","pos":[-640,-1440],"size":{"0":320,"1":80},"flags":{},"order":248,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2447,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":null,"label":"ipadapter"}],"outputs":[{"name":"model","type":"MODEL","links":[4577],"shape":3,"label":"model","slot_index":0},{"name":"ipadapter","type":"IPADAPTER","links":[4578,4585],"shape":3,"label":"ipadapter","slot_index":1}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"],"color":"#223","bgcolor":"#335"},{"id":2118,"type":"SetNode","pos":[4580,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":265,"mode":0,"inputs":[{"name":"INT","type":"INT","link":4635,"label":"INT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Weight Type (IPA)","properties":{"previousName":"Weight Type (IPA)"},"widgets_values":["Weight Type (IPA)"]},{"id":2085,"type":"IPAdapterClipVisionEnhancer","pos":[-180,-1330],"size":{"0":310,"1":320},"flags":{},"order":368,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":4577,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":4578,"label":"ipadapter"},{"name":"image","type":"IMAGE","link":4600,"label":"image"},{"name":"image_negative","type":"IMAGE","link":null,"label":"image_negative"},{"name":"attn_mask","type":"MASK","link":4582,"label":"attn_mask"},{"name":"clip_vision","type":"CLIP_VISION","link":null,"label":"clip_vision"},{"name":"end_at","type":"FLOAT","link":4581,"widget":{"name":"end_at"},"label":"end_at"},{"name":"enhance_tiles","type":"INT","link":4609,"widget":{"name":"enhance_tiles"},"label":"enhance_tiles"},{"name":"weight_type","type":"COMBO","link":4640,"widget":{"name":"weight_type"},"label":"weight_type"},{"name":"weight","type":"FLOAT","link":4655,"widget":{"name":"weight"},"label":"weight"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[4584],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterClipVisionEnhancer"},"widgets_values":[0.88,"reverse in-out","concat",0,1,"V only",2,1],"color":"#223","bgcolor":"#335"},{"id":2119,"type":"GetNode","pos":[-580,-720],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":152,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4637],"slot_index":0,"label":"INT"}],"title":"Get_Weight Type (IPA)","properties":{},"widgets_values":["Weight Type (IPA)"],"color":"#223","bgcolor":"#335"},{"id":2120,"type":"DF_Int_to_Float","pos":[-380,-720],"size":{"0":320,"1":60},"flags":{"collapsed":true},"order":253,"mode":0,"inputs":[{"name":"Value","type":"INT","link":4637,"widget":{"name":"Value"},"label":"Value"}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4638],"shape":3,"label":"FLOAT","slot_index":0}],"properties":{"Node name for S&R":"DF_Int_to_Float"},"widgets_values":[1],"color":"#223","bgcolor":"#335"},{"id":2115,"type":"SimpleMath+","pos":[-240,-720],"size":{"0":320,"1":80},"flags":{"collapsed":true},"order":313,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":4638,"label":"a"},{"name":"b","type":"INT,FLOAT","link":null,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":[4639],"shape":3,"label":"INT","slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"label":"FLOAT"}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a-1"],"color":"#223","bgcolor":"#335"},{"id":2107,"type":"ImpactStringSelector","pos":[-70,-720],"size":{"0":290,"1":330},"flags":{"collapsed":true},"order":342,"mode":0,"inputs":[{"name":"select","type":"INT","link":4639,"widget":{"name":"select"},"label":"select"}],"outputs":[{"name":"STRING","type":"STRING","links":[4626],"shape":3,"label":"STRING","slot_index":0}],"title":"Weight Type","properties":{"Node name for S&R":"ImpactStringSelector"},"widgets_values":["linear\nease in\nease out\nease in-out\nreverse in-out\nweak input\nweak output\nweak middle\nstrong middle\nstyle transfer\ncomposition\nstrong style transfer\nstyle and composition\nstyle transfer precise\ncomposition precise",false,0],"color":"#223","bgcolor":"#335"},{"id":2106,"type":"CR String To Combo","pos":[90,-720],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":358,"mode":0,"inputs":[{"name":"text","type":"STRING","link":4626,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"any","type":"*","links":[4640],"shape":3,"label":"any","slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR String To Combo"},"widgets_values":[""],"color":"#223","bgcolor":"#335"},{"id":2090,"type":"SimpleMath+","pos":[-580,-850],"size":{"0":210,"1":80},"flags":{"collapsed":true},"order":250,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT","link":4597,"label":"a"},{"name":"b","type":"INT,FLOAT","link":null,"label":"b"}],"outputs":[{"name":"INT","type":"INT","links":[4595,4596],"shape":3,"slot_index":0,"label":"INT"},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"label":"FLOAT"}],"properties":{"Node name for S&R":"SimpleMath+"},"widgets_values":["a*224"],"color":"#223","bgcolor":"#335"},{"id":2063,"type":"Label (rgthree)","pos":{"0":5340,"1":3320,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":384,"1":48},"flags":{"allow_interaction":true},"order":153,"mode":0,"inputs":[],"outputs":[],"title":"提示词反推及输入","properties":{"fontSize":48,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":1783,"type":"easy bookmark","pos":[5230,3420],"size":{"0":384,"1":82},"flags":{"collapsed":true},"order":154,"mode":0,"title":"🔖 2","properties":{},"widgets_values":["2",1.45]},{"id":1118,"type":"SetNode","pos":[6290,1130],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":262,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":4493,"label":"FLOAT"}],"outputs":[{"name":"*","type":"*","links":null,"slot_index":0,"label":"*"}],"title":"Set_Style Strenght（main）","properties":{"previousName":"Style Strenght（main）"},"widgets_values":["Style Strenght（main）"]},{"id":1161,"type":"Reroute","pos":[4010,-270],"size":[82,26],"flags":{},"order":498,"mode":0,"inputs":[{"name":"","type":"*","link":2568,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4642],"slot_index":0,"label":"*"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":853,"type":"Any Switch (rgthree)","pos":{"0":5810,"1":-380,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":170,"1":130},"flags":{"collapsed":false},"order":496,"mode":0,"inputs":[{"name":"any_01","type":"IMAGE","link":2575,"label":"any_01","dir":3},{"name":"any_02","type":"IMAGE","link":2110,"label":"any_02","dir":3},{"name":"any_03","type":"IMAGE","link":2394,"label":"any_03","dir":3},{"name":"any_04","type":"IMAGE","link":2114,"label":"any_04","dir":3},{"name":"any_05","type":"IMAGE","link":2115,"label":"any_05","dir":3},{"name":"any_06","type":"IMAGE","link":null,"dir":3}],"outputs":[{"name":"*","type":"IMAGE","links":[2567],"shape":3,"label":"IMAGE","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)"},"widgets_values":[]},{"id":530,"type":"UpscaleModelLoader","pos":[8340,2620],"size":{"0":320,"1":60},"flags":{},"order":155,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[4645],"shape":3,"label":"UPSCALE_MODEL","slot_index":0}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x-UltraSharp.pth"],"color":"#432","bgcolor":"#653"},{"id":2126,"type":"SetNode","pos":[8720,2600],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":254,"mode":0,"inputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","link":4645,"label":"UPSCALE_MODEL"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Upscale Model","properties":{"previousName":"Upscale Model"},"widgets_values":["Upscale Model"]},{"id":1491,"type":"ConditioningMultiCombine","pos":[960,320],"size":{"0":220,"1":120},"flags":{"collapsed":true},"order":346,"mode":0,"inputs":[{"name":"conditioning_1","type":"CONDITIONING","link":3230,"label":"conditioning_1"},{"name":"conditioning_2","type":"CONDITIONING","link":3233,"label":"conditioning_2"},{"name":"conditioning_3","type":"CONDITIONING","link":3234,"label":"conditioning_3"}],"outputs":[{"name":"combined","type":"CONDITIONING","links":[3235,3236,4648],"shape":3,"slot_index":0,"label":"combined"},{"name":"inputcount","type":"INT","links":null,"shape":3,"label":"inputcount"}],"properties":{"Node name for S&R":"ConditioningMultiCombine"},"widgets_values":[3,null],"color":"#232","bgcolor":"#353"},{"id":416,"type":"CLIPTextEncode","pos":[480,240],"size":{"0":210,"1":100},"flags":{"collapsed":true},"order":273,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":1551,"label":"clip"},{"name":"text","type":"STRING","link":876,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[881,1805,4649],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Photography girl , realistic, outdoors, sky, water, tree, ocean, scenery, snow, sunset, horizon, winter, bare_tree, shore"],"color":"#322","bgcolor":"#533"},{"id":2134,"type":"SetNode","pos":[960,370],"size":{"0":226.8000030517578,"1":58},"flags":{"collapsed":true},"order":361,"mode":0,"inputs":[{"name":"CONDITIONING","type":"CONDITIONING","link":4648,"label":"CONDITIONING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Conditioning (Positive)","properties":{"previousName":"Conditioning (Positive)"},"widgets_values":["Conditioning (Positive)"],"color":"#232","bgcolor":"#353"},{"id":2135,"type":"SetNode","pos":[480,200],"size":{"0":226.8000030517578,"1":58},"flags":{"collapsed":true},"order":319,"mode":0,"inputs":[{"name":"CONDITIONING","type":"CONDITIONING","link":4649,"label":"CONDITIONING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Conditioning (Negative)","properties":{"previousName":"Conditioning (Negative)"},"widgets_values":["Conditioning (Negative)"],"color":"#322","bgcolor":"#533"},{"id":2133,"type":"GetNode","pos":[3820,70],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":156,"mode":4,"outputs":[{"name":"MODEL","type":"MODEL","links":[4647],"slot_index":0,"label":"MODEL"}],"title":"Get_Model","properties":{},"widgets_values":["Model"],"color":"#432","bgcolor":"#653"},{"id":2131,"type":"GetNode","pos":[3820,120],"size":{"0":226.8000030517578,"1":58},"flags":{"collapsed":true},"order":157,"mode":4,"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4650],"slot_index":0,"label":"CONDITIONING"}],"title":"Get_Conditioning (Positive)","properties":{},"widgets_values":["Conditioning (Positive)"],"color":"#432","bgcolor":"#653"},{"id":2136,"type":"GetNode","pos":[3820,170],"size":{"0":226.8000030517578,"1":58},"flags":{"collapsed":true},"order":158,"mode":4,"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[4651],"slot_index":0,"label":"CONDITIONING"}],"title":"Get_Conditioning (Negative)","properties":{},"widgets_values":["Conditioning (Negative)"],"color":"#432","bgcolor":"#653"},{"id":2130,"type":"GetNode","pos":[3820,220],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":159,"mode":4,"outputs":[{"name":"VAE","type":"VAE","links":[4652],"slot_index":0,"label":"VAE"}],"title":"Get_Vae","properties":{},"widgets_values":["Vae"],"color":"#432","bgcolor":"#653"},{"id":2124,"type":"SetNode","pos":[6600,1080],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":266,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":4641,"label":"FLOAT"}],"outputs":[{"name":"*","type":"*","links":null,"slot_index":0,"label":"*"}],"title":"Set_Style Strenght（bg）","properties":{"previousName":"Style Strenght（bg）"},"widgets_values":["Style Strenght（bg）"]},{"id":2138,"type":"GetNode","pos":[-200,-850],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":160,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4655],"slot_index":0,"label":"FLOAT"}],"title":"Get_Style Strenght（bg）","properties":{},"widgets_values":["Style Strenght（bg）"],"color":"#223","bgcolor":"#335"},{"id":2128,"type":"GetNode","pos":[3820,270],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":161,"mode":4,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[4646],"slot_index":0,"label":"UPSCALE_MODEL"}],"title":"Get_Upscale Model","properties":{},"widgets_values":["Upscale Model"],"color":"#432","bgcolor":"#653"},{"id":2139,"type":"GetNode","pos":[3820,320],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":162,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[4656],"slot_index":0,"label":"INT"}],"title":"Get_Seed","properties":{},"widgets_values":["Seed"],"color":"#432","bgcolor":"#653"},{"id":1661,"type":"CR Conditioning Input Switch","pos":[3400,820],"size":{"0":330,"1":80},"flags":{"collapsed":true},"order":446,"mode":0,"inputs":[{"name":"conditioning1","type":"CONDITIONING","link":3649,"label":"conditioning1"},{"name":"conditioning2","type":"CONDITIONING","link":3670,"label":"conditioning2"},{"name":"Input","type":"INT","link":3652,"widget":{"name":"Input"},"label":"Input"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3704],"shape":3,"slot_index":0,"label":"CONDITIONING"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Conditioning Input Switch"},"widgets_values":[1],"color":"#232","bgcolor":"#353"},{"id":1670,"type":"Reroute","pos":[3400,890],"size":[140.8,26],"flags":{},"order":445,"mode":0,"inputs":[{"name":"","type":"*","link":4404,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3671],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":1669,"type":"Reroute","pos":[3400,860],"size":[140.8,26],"flags":{},"order":444,"mode":0,"inputs":[{"name":"","type":"*","link":4403,"label":""}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[3670],"slot_index":0,"label":"CONDITIONING"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":1666,"type":"GetNode","pos":[3400,970],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":163,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[3652,3653],"slot_index":0,"label":"INT"}],"title":"Get_Illustration Mode","properties":{},"widgets_values":["Illustration Mode"]},{"id":2099,"type":"Reroute","pos":[1070,-810],"size":[82,26],"flags":{},"order":384,"mode":0,"inputs":[{"name":"","type":"*","link":4620,"label":""}],"outputs":[{"name":"MODEL","type":"MODEL","links":[4614,4615,4621],"slot_index":0,"label":"MODEL"}],"properties":{"showOutputText":true,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":841,"type":"SetNode","pos":[1070,-740],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":394,"mode":0,"inputs":[{"name":"MODEL","type":"MODEL","link":4621,"label":"MODEL"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_Model (IPAdapter Out)","properties":{"previousName":"Model (IPAdapter Out)"},"widgets_values":["Model (IPAdapter Out)"],"color":"#223","bgcolor":"#335"},{"id":2125,"type":"UltimateSDUpscale","pos":[4090,170],"size":{"0":320,"1":820},"flags":{"collapsed":true},"order":499,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4642,"label":"image"},{"name":"model","type":"MODEL","link":4647,"label":"model"},{"name":"positive","type":"CONDITIONING","link":4650,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":4651,"label":"negative"},{"name":"vae","type":"VAE","link":4652,"label":"vae"},{"name":"upscale_model","type":"UPSCALE_MODEL","link":4646,"label":"upscale_model"},{"name":"upscale_by","type":"FLOAT","link":4654,"widget":{"name":"upscale_by"},"slot_index":6,"label":"upscale_by"},{"name":"seed","type":"INT","link":4656,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4643],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[1.5,539953873977893,"randomize",20,8,"euler","normal",0.2,"Linear",512,512,8,32,"None",1,64,8,16,true,false],"color":"#432","bgcolor":"#653"},{"id":2137,"type":"PrimitiveNode","pos":[3870,390],"size":{"0":210,"1":80},"flags":{},"order":164,"mode":4,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4654],"widget":{"name":"upscale_by"},"label":"FLOAT"}],"title":"放大倍数","properties":{"Run widget replace on values":false},"widgets_values":[1.5,"fixed"],"color":"#432","bgcolor":"#653"},{"id":2059,"type":"Label (rgthree)","pos":{"0":3810,"1":-70,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":128,"1":32},"flags":{"allow_interaction":true},"order":165,"mode":0,"inputs":[],"outputs":[],"title":"高清放大","properties":{"fontSize":32,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":2057,"type":"Label (rgthree)","pos":{"0":2850,"1":-70,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":160,"1":32},"flags":{"allow_interaction":true},"order":166,"mode":0,"inputs":[],"outputs":[],"title":"第三次采样","properties":{"fontSize":32,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":2056,"type":"Label (rgthree)","pos":{"0":1880,"1":-60,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":160,"1":32},"flags":{"allow_interaction":true},"order":167,"mode":0,"inputs":[],"outputs":[],"title":"第二次采样","properties":{"fontSize":32,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":2055,"type":"Label (rgthree)","pos":{"0":30,"1":-60,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":160,"1":32},"flags":{"allow_interaction":true},"order":168,"mode":0,"inputs":[],"outputs":[],"title":"第一次采样","properties":{"fontSize":32,"fontFamily":"Arial","fontColor":"#ffffff","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":1861,"type":"Fast Groups Bypasser (rgthree)","pos":{"0":4580,"1":1910,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[300,260],"flags":{"pinned":false},"order":169,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":[],"label":"OPT_CONNECTION","slot_index":0}],"title":"ControlNet相关节点群组","properties":{"matchColors":"","matchTitle":"CN_","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#432","bgcolor":"#653"},{"id":1979,"type":"Fast Groups Bypasser (rgthree)","pos":{"0":4580,"1":2340,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":300,"1":60},"flags":{"pinned":true},"order":170,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":[],"label":"OPT_CONNECTION","slot_index":0}],"title":"高清放大","properties":{"matchColors":"","matchTitle":"US_","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#432","bgcolor":"#653"},{"id":1747,"type":"Image Filter Adjustments","pos":[4910,2510],"size":{"0":300,"1":230},"flags":{"pinned":false},"order":258,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":4238,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4239],"shape":3,"label":"IMAGE","slot_index":0}],"title":"背景图像预调节","properties":{"Node name for S&R":"Image Filter Adjustments"},"widgets_values":[0,1.05,1.05,1.1,0,0,0,"false"],"color":"#233","bgcolor":"#355"},{"id":10,"type":"LoadImage","pos":[5230,1450],"size":{"0":300,"1":340},"flags":{"pinned":true},"order":171,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[391,3979],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":[2179],"shape":3,"label":"MASK","slot_index":1}],"title":"上传主图","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["18CB6135912892ECBA110C225C33DCE6.png","image"]},{"id":47,"type":"LoadImage","pos":[5230,1840],"size":{"0":300,"1":330},"flags":{"pinned":true},"order":172,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[392],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"上传面部参考图（禁用后使用原图面部）","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["0d9293605ff34855ab91f314c35b8e79 (1).webp","image"]},{"id":39,"type":"LoadImage","pos":[5550,1450],"size":{"0":300,"1":340},"flags":{"pinned":true},"order":173,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4238],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"上传背景参考图","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["95DD568DFE1581254AD02003B11E929B.png","image"]},{"id":489,"type":"LoadImage","pos":[5550,1840],"size":{"0":300,"1":330},"flags":{"pinned":true},"order":174,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1607],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK","slot_index":1}],"title":"上传自定义抠图蒙版","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["31232131231.jpg","image"]},{"id":1862,"type":"Fast Groups Bypasser (rgthree)","pos":{"0":4580,"1":2210,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":300,"1":90},"flags":{"pinned":true},"order":175,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":[],"label":"OPT_CONNECTION","slot_index":0}],"title":"选择蒙版的提供方式","properties":{"matchColors":"","matchTitle":"CT_","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"always one"},"color":"#432","bgcolor":"#653"},{"id":1664,"type":"DF_Integer","pos":[5230,2240],"size":{"0":300,"1":60},"flags":{"pinned":false},"order":176,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[3651],"shape":3,"slot_index":0,"label":"INT"}],"title":"插画模式 （1:关闭  2:打开）","properties":{"Node name for S&R":"DF_Integer"},"widgets_values":[1],"color":"#233","bgcolor":"#355"},{"id":2017,"type":"EG_RY_HT","pos":[5230,2340],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":177,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4494],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"主体外形_CN固定强度","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[0.92],"color":"#233","bgcolor":"#355"},{"id":2018,"type":"EG_RY_HT","pos":[5230,2440],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":178,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4493],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"主体风格_IPA固定强度","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[0.6],"color":"#233","bgcolor":"#355"},{"id":2019,"type":"EG_RY_HT","pos":[5230,2540],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":179,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4492],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"现实与艺术_MASK调节","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[1],"color":"#233","bgcolor":"#355"},{"id":2038,"type":"EG_RY_HT","pos":[5230,2630],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":180,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4520],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"主体复原","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[0],"color":"#233","bgcolor":"#355"},{"id":2122,"type":"Note","pos":[5550,2240],"size":{"0":300,"1":300},"flags":{},"order":181,"mode":0,"title":"背景风格迁移强度变化模式表","properties":{"text":""},"widgets_values":["背景风格迁移采用不同的强度变化的方式对生成的背景有较大的影响，所以提供了快速选择节点，按序号选择即可：\n\n1、linear（线性）\n2、ease in（缓进）\n3、ease out（缓出）\n4、ease in-out（缓进缓出）\n5、reverse in-out （反向进出）\n6、weak input（弱输入）\n7、weak output（弱输出）\n8、weak middle（中间弱）\n9、strong middle（中间强）\n10、style transfer（风格转移）\n11、composition（构图）\n10、strong style transfer（强风格转移）\n11、style and composition（风格与构图）\n12、style transfer precise（精准风格转移）\n13、composition precise（精准构图）"],"color":"#233","bgcolor":"#355"},{"id":2116,"type":"DF_Integer","pos":[5550,2580],"size":{"0":300,"1":60},"flags":{"pinned":false},"order":182,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[4635],"shape":3,"slot_index":0,"label":"INT"}],"title":"背景风格迁移强度变化模式选择","properties":{"Node name for S&R":"DF_Integer"},"widgets_values":[1],"color":"#233","bgcolor":"#355"},{"id":2123,"type":"EG_RY_HT","pos":[5550,2680],"size":{"0":300,"1":60},"flags":{"collapsed":false,"pinned":false},"order":183,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[4641],"shape":3,"slot_index":0,"label":"FLOAT"}],"title":"背景风格迁移强度","properties":{"Node name for S&R":"EG_RY_HT"},"widgets_values":[0.88],"color":"#233","bgcolor":"#355"},{"id":1012,"type":"Image Filter Adjustments","pos":[4910,2240],"size":{"0":300,"1":230},"flags":{"pinned":false},"order":216,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2324,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2328],"shape":3,"label":"IMAGE","slot_index":0}],"title":"主体图像预调节","properties":{"Node name for S&R":"Image Filter Adjustments"},"widgets_values":[0,1,1,1.1,0,0,0,"false"],"color":"#233","bgcolor":"#355"},{"id":1888,"type":"easy bookmark","pos":[5200,2810],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":184,"mode":0,"title":"🔖 0","properties":{},"widgets_values":["0",1.4]},{"id":218,"type":"PreviewImage","pos":[5890,1450],"size":[390,560],"flags":{"pinned":false},"order":436,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":584,"label":"images"}],"title":"第一次采样","properties":{"Node name for S&R":"PreviewImage"}},{"id":217,"type":"PreviewImage","pos":[6290,1450],"size":[380,560],"flags":{"pinned":false},"order":461,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1925,"label":"images"}],"title":"第二次采样","properties":{"Node name for S&R":"PreviewImage"}},{"id":629,"type":"PreviewImage","pos":[6680,1450],"size":[380,560],"flags":{"pinned":false},"order":464,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2576,"label":"images"}],"title":"第三次采样","properties":{"Node name for S&R":"PreviewImage"}},{"id":630,"type":"PreviewImage","pos":[6480,2050],"size":[580,810],"flags":{"pinned":false},"order":502,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4459,"label":"images"}],"title":"高清修复+脸部修复+手部修复","properties":{"Node name for S&R":"PreviewImage"}},{"id":2016,"type":"Image Comparer (rgthree)","pos":{"0":5890,"1":2050,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[580,810],"flags":{"collapsed":false,"pinned":false},"order":503,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":4490,"dir":3,"label":"image_a"},{"name":"image_b","type":"IMAGE","link":4491,"dir":3,"label":"image_b"}],"outputs":[],"title":"图片对比","properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/view?filename=rgthree.compare._temp_txffj_00079_.png&type=temp&subfolder=&rand=0.7830563091232083"},{"name":"B","selected":true,"url":"/view?filename=rgthree.compare._temp_txffj_00080_.png&type=temp&subfolder=&rand=0.8700894551088134"}]]},{"id":2015,"type":"Note","pos":[4580,2440],"size":[300,420],"flags":{"pinned":true},"order":185,"mode":0,"properties":{"text":""},"widgets_values":["【 部分功能使用说明 】\n\n使用数字键（0-9）能实现快速跳转不同的功能群组\n\n—— 使用自定义蒙版：\n在“选择蒙版的提供方式”群组打开”使用自定义蒙版“，并上传自定义蒙版图片。\n\n—— 换脸：\n同时打开”人物面部迁移“及”人物面部修复“群组，启用”上传面部参考图“节点，并上传面部参考图。\n\n—— 面部及手部修复：\n使用时打开对应的功能群组即可。当同时启用时，先修复面部再修复手部。定位到对应的群组，可以通过调整参数或更换种子来对相关的功能效果进行把控。\n\n—— 复原主体：\n提供了节点可以调节主体复原的程度，强度为1时，主体与原图保持一致，如边缘存在差异可以跳转到主体复原的节点群组去进一步修正。强度为0时，则维持生成图效果。中间数值为过渡形态，根据实际效果使用。\n\n—— 自定义深度图：\n在“深度图预处理”群组里可以自定义背景和前景（当生成前景时）的深度图，深度图对画面整体的构图及融合度有很大的影响。\n\n—— IC-Light：\n打开IC-Light相关的群组，然后按数字键9跳转。该群组为独立的工作流，通常先使用换背景工作流生成图片后，再上传到IC-Light进行后期打光。\n\n\n【 控制节点说明 】\n\n插画模式：打开后切换成更适合插画风格的工作流\n\nCN固定强度：对ControlNet模型进行全局的强弱调整\n\nIPA固定强度：调整主体风格迁移的强弱\n\nMASK调节：对受MASK控制的节点进行全局的强弱调整\n\n\n"],"color":"#432","bgcolor":"#653"},{"id":1782,"type":"easy bookmark","pos":[4430,1400],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":186,"mode":0,"title":"🔖 1","properties":{},"widgets_values":["1",0.8]}],"links":[[16,18,0,16,3,"IMAGE"],[17,18,0,19,0,"IMAGE"],[60,48,0,50,1,"MASK"],[79,53,1,59,0,"IMAGE"],[80,53,2,60,0,"IMAGE"],[81,53,5,61,0,"IMAGE"],[82,53,3,62,0,"MASK"],[278,129,0,53,3,"VAE"],[340,168,0,163,0,"IMAGE"],[391,10,0,196,0,"*"],[392,47,0,197,0,"*"],[422,50,0,204,0,"IMAGE"],[523,263,0,262,1,"CONTROL_NET"],[531,253,0,268,2,"MODEL"],[532,254,0,268,3,"CLIP"],[533,255,0,268,4,"VAE"],[540,268,2,270,0,"IMAGE"],[584,296,0,218,0,"IMAGE"],[669,180,0,333,4,"INT"],[670,333,0,8,0,"LATENT"],[716,344,0,345,0,"*"],[734,353,0,8,1,"VAE"],[759,250,0,333,3,"LATENT"],[762,8,0,142,0,"*"],[830,397,0,399,0,"*"],[876,417,0,416,1,"STRING"],[881,416,0,397,0,"*"],[884,419,0,6,1,"STRING"],[993,357,0,355,3,"IMAGE"],[1001,451,0,419,0,"STRING"],[1031,358,0,357,1,"MASK"],[1050,483,0,478,0,"LATENT"],[1051,479,0,478,1,"VAE"],[1057,481,0,483,4,"INT"],[1079,494,1,355,5,"TIMESTEP_KEYFRAME"],[1362,614,0,616,0,"SEGS"],[1389,625,0,627,0,"SEGS"],[1528,676,0,178,0,"INT"],[1549,354,0,684,0,"CLIP"],[1550,684,0,6,0,"CLIP"],[1551,684,0,416,0,"CLIP"],[1563,53,0,316,0,"*"],[1566,687,0,53,10,"INT"],[1607,489,0,707,0,"*"],[1758,766,0,765,1,"MASK"],[1759,765,0,617,3,"IMAGE"],[1760,765,0,748,0,"IMAGE"],[1805,416,0,418,0,"*"],[1808,333,0,603,0,"LATENT"],[1809,4,0,776,0,"MODEL"],[1861,685,0,268,0,"IMAGE"],[1865,345,0,53,4,"CONDITIONING"],[1866,399,0,53,5,"CONDITIONING"],[1879,795,0,792,0,"LATENT"],[1880,793,0,792,1,"VAE"],[1882,796,0,795,3,"LATENT"],[1883,794,0,795,4,"INT"],[1923,478,0,810,0,"*"],[1925,811,0,217,0,"IMAGE"],[2050,669,0,53,2,"CLIP"],[2067,142,0,854,0,"*"],[2068,854,0,296,0,"*"],[2069,810,0,855,0,"*"],[2070,855,0,811,0,"*"],[2099,776,0,124,0,"MODEL"],[2105,685,0,872,0,"*"],[2110,872,0,853,1,"IMAGE"],[2114,811,0,853,3,"IMAGE"],[2115,296,0,853,4,"IMAGE"],[2168,658,0,119,0,"VAE"],[2179,10,1,908,0,"*"],[2204,925,0,450,0,"STRING"],[2205,925,1,415,0,"STRING"],[2235,934,0,949,0,"MASK"],[2239,949,0,953,0,"MASK"],[2248,956,0,742,2,"MASK"],[2256,953,0,970,0,"MASK"],[2269,975,0,824,1,"IMAGE"],[2270,973,0,824,0,"IMAGE"],[2285,4,1,776,1,"CLIP"],[2287,776,1,125,0,"CLIP"],[2302,1000,0,13,0,"IMAGE"],[2304,706,0,909,0,"MASK"],[2324,999,0,1012,0,"IMAGE"],[2328,1012,0,998,0,"IMAGE"],[2361,1035,1,355,9,"FLOAT"],[2373,1047,1,617,9,"FLOAT"],[2394,317,0,853,2,"IMAGE"],[2395,260,0,1063,0,"*"],[2396,1064,0,1065,0,"*"],[2397,276,0,1066,0,"*"],[2398,1067,0,259,0,"BBOX_DETECTOR"],[2400,1069,0,53,6,"BBOX_DETECTOR"],[2401,1070,0,53,7,"SAM_MODEL"],[2402,1071,0,48,0,"BBOX_DETECTOR"],[2404,1073,0,625,2,"SAM_MODEL"],[2417,357,0,1084,0,"IMAGE"],[2425,1083,0,973,1,"IMAGE"],[2447,127,0,842,0,"MODEL"],[2482,494,1,617,5,"TIMESTEP_KEYFRAME"],[2487,1119,1,494,0,"FLOAT"],[2491,1124,0,268,8,"INT"],[2492,845,0,1125,0,"MODEL"],[2493,845,1,1125,1,"IPADAPTER"],[2496,1125,0,1126,0,"MODEL"],[2497,845,1,1126,1,"IPADAPTER"],[2533,1143,0,16,9,"FLOAT"],[2534,1049,0,1144,0,"FLOAT"],[2538,1144,0,1035,1,"INT,FLOAT"],[2539,1145,0,1119,0,"INT,FLOAT"],[2540,1146,0,1035,0,"INT,FLOAT"],[2542,1148,0,1047,0,"INT,FLOAT"],[2551,1099,0,1154,0,"FLOAT"],[2555,1156,0,1098,0,"INT,FLOAT"],[2558,1126,0,53,1,"MODEL"],[2567,853,0,1160,0,"*"],[2568,1160,0,1161,0,"*"],[2570,792,0,1162,0,"*"],[2571,1162,0,317,0,"*"],[2573,268,0,1163,0,"*"],[2574,1163,0,1164,0,"*"],[2575,1164,0,853,0,"IMAGE"],[2576,317,0,629,0,"IMAGE"],[2579,1165,0,1166,0,"*"],[2589,163,0,396,0,"IMAGE"],[2611,1187,0,1170,1,"FLOAT"],[2614,1188,0,333,0,"MODEL"],[2616,1189,0,483,0,"MODEL"],[2618,1190,0,795,0,"MODEL"],[2619,773,0,1188,0,"MODEL"],[2644,824,0,1211,0,"IMAGE"],[2645,1211,0,977,0,"IMAGE"],[2646,1211,0,28,0,"IMAGE"],[2647,1211,0,23,3,"IMAGE"],[2661,1154,0,1098,1,"INT,FLOAT"],[2664,1154,0,1104,1,"INT,FLOAT"],[2665,1155,0,1104,0,"INT,FLOAT"],[2680,254,0,1228,0,"CLIP"],[2694,1228,0,268,5,"CONDITIONING"],[2695,268,4,1231,0,"IMAGE"],[2696,254,0,1232,0,"CLIP"],[2697,1232,0,268,6,"CONDITIONING"],[2709,812,0,1190,0,"MODEL"],[2737,259,0,262,0,"SEGS"],[2743,18,0,1255,0,"*"],[2745,262,0,1257,0,"*"],[2746,1259,0,1258,1,"CONTROL_NET"],[2747,259,0,1258,0,"SEGS"],[2748,1260,0,1261,0,"IMAGE"],[2749,1261,0,1258,3,"IMAGE"],[2750,1258,0,1257,1,"SEGS"],[2752,1260,0,1262,0,"IMAGE"],[2753,1262,0,262,3,"IMAGE"],[2754,706,0,1263,0,"*"],[2756,1170,0,1266,0,"*"],[2757,1267,0,357,0,"IMAGE"],[2760,1267,0,18,0,"IMAGE"],[2764,1270,0,27,0,"IMAGE"],[2765,1271,0,355,4,"MASK"],[2768,1272,0,1083,2,"MASK"],[2770,1274,0,358,0,"MASK"],[2771,1275,0,614,1,"IMAGE"],[2779,801,0,1280,0,"*"],[2780,24,0,1277,0,"*"],[2781,17,0,1278,0,"*"],[2782,22,0,1279,0,"*"],[2783,356,0,1276,0,"*"],[2784,1281,0,355,2,"CONTROL_NET"],[2786,1281,0,617,2,"CONTROL_NET"],[2787,1282,0,16,2,"CONTROL_NET"],[2789,1284,0,23,2,"CONTROL_NET"],[2841,483,0,796,0,"LATENT"],[3034,1257,0,268,1,"SEGS"],[3053,168,0,1414,0,"IMAGE"],[3056,1414,0,1418,0,"*"],[3060,1170,0,1414,2,"MASK"],[3066,1412,0,1426,0,"MASK"],[3091,1426,0,1427,1,"IMAGE"],[3098,1273,0,1116,0,"MASK"],[3104,1170,0,982,0,"MASK"],[3105,1435,0,1436,0,"FLOAT"],[3106,1153,0,1437,0,"INT,FLOAT"],[3107,1436,0,1437,1,"INT,FLOAT"],[3108,1437,1,21,9,"FLOAT"],[3116,1439,0,1442,0,"IMAGE"],[3117,1442,0,1441,0,"MASK"],[3122,1441,0,1446,0,"*"],[3124,1449,0,23,4,"MASK"],[3127,1187,0,1451,0,"FLOAT"],[3128,1451,0,1450,0,"INT,FLOAT"],[3129,1450,1,1441,1,"FLOAT"],[3180,1474,0,956,0,"MASK"],[3185,1475,0,1477,0,"*"],[3186,1479,0,1478,1,"STRING"],[3196,684,0,1478,0,"CLIP"],[3200,1427,0,21,3,"IMAGE"],[3201,1427,0,26,0,"IMAGE"],[3208,372,0,1488,1,"STRING"],[3213,684,0,1488,0,"CLIP"],[3219,420,0,419,1,"STRING"],[3228,1488,0,1492,0,"CONDITIONING"],[3230,1492,0,1491,0,"CONDITIONING"],[3231,1478,0,1493,0,"CONDITIONING"],[3233,1493,0,1491,1,"CONDITIONING"],[3234,6,0,1491,2,"CONDITIONING"],[3235,1491,0,344,0,"*"],[3236,1491,0,30,0,"*"],[3238,1494,0,1495,0,"FLOAT"],[3240,1495,0,1496,1,"INT,FLOAT"],[3241,1152,0,1496,0,"INT,FLOAT"],[3242,1496,1,23,9,"FLOAT"],[3250,1497,0,1493,1,"MASK"],[3285,1508,0,1505,2,"CONTROL_NET"],[3295,1512,0,1511,0,"IMAGE"],[3301,706,0,1511,2,"MASK"],[3303,1511,0,1514,0,"*"],[3352,1520,0,1505,9,"FLOAT"],[3380,1536,0,1534,0,"MASK"],[3381,1533,0,1535,0,"IMAGE"],[3382,1533,0,1532,3,"IMAGE"],[3383,1537,0,1532,2,"CONTROL_NET"],[3400,1543,0,1541,1,"INT,FLOAT"],[3401,1542,0,1543,0,"FLOAT"],[3402,1539,0,1541,0,"INT,FLOAT"],[3441,1543,0,1556,0,"INT,FLOAT"],[3443,1556,1,1532,10,"FLOAT"],[3444,1541,1,1532,9,"FLOAT"],[3479,603,0,483,3,"LATENT"],[3486,1574,0,1577,0,"FLOAT"],[3487,1538,0,1575,0,"MASK"],[3489,1575,0,1505,4,"MASK"],[3491,1579,0,1538,0,"MASK"],[3493,1577,0,1575,1,"FLOAT"],[3500,1267,0,1583,0,"*"],[3502,1583,0,1533,0,"IMAGE"],[3520,1271,0,1587,0,"*"],[3521,1587,0,1580,0,"*"],[3534,1592,0,1593,0,"FLOAT"],[3535,1593,0,1047,1,"INT,FLOAT"],[3536,1594,0,1595,0,"FLOAT"],[3537,1595,0,1119,1,"INT,FLOAT"],[3562,1271,0,1608,0,"*"],[3563,1483,0,1609,0,"MASK"],[3564,1609,0,1497,0,"MASK"],[3565,1608,0,16,4,"MASK"],[3597,318,0,53,0,"IMAGE"],[3602,50,0,1125,2,"IMAGE"],[3604,773,0,1633,0,"*"],[3605,1633,0,1189,0,"MODEL"],[3606,1633,0,1634,0,"*"],[3607,1634,0,812,0,"MODEL"],[3633,1131,0,221,0,"STRING"],[3634,1133,0,244,0,"STRING"],[3637,1650,0,925,0,"STRING"],[3638,311,0,1652,0,"*"],[3639,312,0,1652,1,"*"],[3643,30,0,1659,0,"*"],[3644,418,0,1660,0,"*"],[3645,1659,0,1532,0,"CONDITIONING"],[3646,1660,0,1532,1,"CONDITIONING"],[3649,1505,0,1661,0,"CONDITIONING"],[3650,1505,1,1662,0,"CONDITIONING"],[3651,1664,0,1665,0,"*"],[3652,1666,0,1661,2,"INT"],[3653,1666,0,1662,2,"INT"],[3670,1669,0,1661,1,"CONDITIONING"],[3671,1670,0,1662,1,"CONDITIONING"],[3704,1661,0,1673,0,"*"],[3705,1673,0,1671,0,"*"],[3706,1673,0,795,1,"CONDITIONING"],[3707,1662,0,1674,0,"*"],[3708,1674,0,795,2,"CONDITIONING"],[3709,1674,0,1672,0,"*"],[3710,1671,0,483,1,"CONDITIONING"],[3711,1672,0,483,2,"CONDITIONING"],[3716,1677,0,1675,2,"CONTROL_NET"],[3717,1681,0,1675,3,"IMAGE"],[3721,1681,0,1676,0,"IMAGE"],[3780,1275,0,625,1,"IMAGE"],[3782,1267,0,765,0,"IMAGE"],[3785,1271,0,617,4,"MASK"],[3807,1700,1,1675,5,"TIMESTEP_KEYFRAME"],[3808,1675,0,1701,0,"CONDITIONING"],[3809,1675,1,1701,1,"CONDITIONING"],[3819,1706,0,1701,2,"CONTROL_NET"],[3820,1700,1,1701,5,"TIMESTEP_KEYFRAME"],[3821,1681,0,1707,0,"IMAGE"],[3822,1707,0,1703,0,"IMAGE"],[3823,1707,0,1701,3,"IMAGE"],[3920,1748,0,743,0,"INT"],[3921,1748,1,743,1,"INT"],[3922,1748,0,949,1,"INT"],[3923,1748,1,949,2,"INT"],[3924,1749,1,21,5,"TIMESTEP_KEYFRAME"],[3954,1755,0,1756,0,"*"],[3956,1755,2,1758,0,"*"],[3959,1757,0,168,0,"INT"],[3960,1758,0,168,1,"INT"],[3961,1755,1,1439,0,"INT"],[3962,1755,2,1439,1,"INT"],[3963,1756,0,1414,1,"IMAGE"],[3964,1756,0,163,1,"IMAGE"],[3965,1756,0,202,0,"IMAGE"],[3967,1757,0,1512,0,"INT"],[3968,1758,0,1512,1,"INT"],[3970,1756,0,1511,1,"IMAGE"],[3975,201,0,1755,0,"IMAGE"],[3976,1755,0,1265,0,"IMAGE"],[3977,1226,0,1760,1,"INT"],[3978,1226,1,1760,2,"INT"],[3979,10,0,1760,0,"IMAGE"],[3981,526,0,1761,0,"IMAGE"],[3984,1761,1,250,0,"INT"],[3985,1761,2,250,1,"INT"],[3986,1515,0,1762,0,"IMAGE"],[3987,1762,0,312,0,"IMAGE"],[3988,1597,0,1764,0,"IMAGE"],[3989,1764,0,311,0,"IMAGE"],[3991,708,0,1766,0,"IMAGE"],[3995,1766,0,490,0,"IMAGE"],[4111,1832,0,1748,0,"IMAGE"],[4184,1866,0,50,0,"IMAGE"],[4185,1866,0,48,1,"IMAGE"],[4186,203,0,1866,0,"IMAGE"],[4187,293,0,1866,1,"IMAGE"],[4195,1879,0,1881,0,"FLOAT"],[4198,1881,0,603,1,"FLOAT"],[4199,1881,0,796,1,"FLOAT"],[4203,1885,0,1879,1,"FLOAT"],[4220,970,0,1898,0,"IMAGE"],[4221,1898,0,973,0,"IMAGE"],[4222,1898,0,975,0,"IMAGE"],[4226,27,0,1832,0,"*"],[4227,1832,0,1900,0,"IMAGE"],[4228,1900,0,1083,0,"IMAGE"],[4229,1832,0,1902,0,"IMAGE"],[4230,1902,0,1083,1,"IMAGE"],[4238,39,0,1747,0,"IMAGE"],[4239,1747,0,198,0,"IMAGE"],[4242,1908,0,1910,0,"*"],[4243,1911,0,250,2,"INT"],[4264,1423,0,1915,0,"MASK"],[4265,1915,0,1412,0,"MASK"],[4293,1283,0,21,2,"CONTROL_NET"],[4296,1902,0,742,1,"IMAGE"],[4308,1419,0,1938,0,"IMAGE"],[4309,1938,0,1427,0,"IMAGE"],[4311,1931,0,1940,0,"MASK"],[4312,1934,0,1940,1,"MASK"],[4313,1940,0,1214,0,"MASK"],[4314,1941,0,1942,0,"*"],[4315,1532,0,1943,0,"CONDITIONING"],[4316,1532,1,1943,1,"CONDITIONING"],[4319,1749,1,1943,5,"TIMESTEP_KEYFRAME"],[4320,1423,0,1944,0,"MASK"],[4322,1448,0,1943,4,"MASK"],[4323,1944,0,1945,0,"MASK"],[4324,1945,0,1943,3,"IMAGE"],[4325,1946,0,1943,2,"CONTROL_NET"],[4329,1284,0,1948,2,"CONTROL_NET"],[4330,1211,0,1948,3,"IMAGE"],[4331,1449,0,1948,4,"MASK"],[4333,1943,0,1948,0,"CONDITIONING"],[4334,1943,1,1948,1,"CONDITIONING"],[4335,1948,0,1505,0,"CONDITIONING"],[4336,1948,1,1505,1,"CONDITIONING"],[4337,168,0,1949,0,"IMAGE"],[4338,1756,0,1949,1,"IMAGE"],[4340,706,0,1949,2,"MASK"],[4341,1949,0,1939,0,"IMAGE"],[4360,1214,0,1961,0,"MASK"],[4361,1961,0,1930,0,"MASK"],[4366,1964,0,1963,0,"MASK"],[4367,1483,0,1963,1,"MASK"],[4369,1963,0,1492,1,"MASK"],[4374,114,0,1968,0,"*"],[4375,115,0,1969,0,"*"],[4376,1968,0,333,1,"CONDITIONING"],[4377,1969,0,333,2,"CONDITIONING"],[4378,8,0,1970,0,"*"],[4381,1971,0,1505,3,"IMAGE"],[4382,1971,0,1507,0,"IMAGE"],[4384,1972,0,1971,0,"*"],[4385,1970,0,1972,0,"*"],[4386,1972,0,1681,0,"*"],[4393,21,0,355,0,"CONDITIONING"],[4394,21,1,355,1,"CONDITIONING"],[4395,355,0,23,0,"CONDITIONING"],[4396,355,1,23,1,"CONDITIONING"],[4397,23,0,16,0,"CONDITIONING"],[4398,23,1,16,1,"CONDITIONING"],[4401,1659,0,1675,0,"CONDITIONING"],[4402,1660,0,1675,1,"CONDITIONING"],[4403,1701,0,1669,0,"*"],[4404,1701,1,1670,0,"*"],[4407,1973,0,1976,0,"*"],[4408,1977,0,1761,1,"INT"],[4409,1977,0,1761,2,"INT"],[4410,1977,0,1885,0,"INT"],[4411,1749,1,23,5,"TIMESTEP_KEYFRAME"],[4412,1749,1,1948,5,"TIMESTEP_KEYFRAME"],[4413,1271,0,21,4,"MASK"],[4414,1974,0,1980,0,"*"],[4415,1886,0,1981,0,"INT"],[4416,1981,0,1879,0,"FLOAT"],[4417,1983,0,1755,1,"INT"],[4418,1983,0,1755,2,"INT"],[4423,1983,0,1766,1,"INT"],[4424,1983,0,1766,2,"INT"],[4428,1984,0,1987,0,"MASK"],[4436,1987,0,1994,0,"MASK"],[4438,490,0,1995,0,"MASK"],[4439,1995,0,706,0,"MASK"],[4440,909,0,163,2,"MASK"],[4441,909,0,1170,0,"MASK"],[4442,909,0,1578,0,"MASK"],[4445,910,0,1996,0,"MASK"],[4446,1755,1,1996,1,"INT"],[4447,1755,2,1996,2,"INT"],[4448,1996,0,909,1,"MASK"],[4449,1996,0,1425,0,"MASK"],[4450,1755,1,1757,0,"*"],[4455,1999,0,1987,1,"INT"],[4456,1999,1,1987,2,"INT"],[4457,1760,0,2000,0,"*"],[4459,1166,0,630,0,"IMAGE"],[4461,685,0,259,1,"IMAGE"],[4464,317,0,1226,0,"IMAGE"],[4465,1162,0,2002,0,"*"],[4468,2002,0,1960,1,"IMAGE"],[4469,2002,0,1999,0,"IMAGE"],[4471,316,0,685,0,"*"],[4472,1960,0,318,0,"*"],[4475,1580,0,1532,4,"MASK"],[4478,1534,0,1533,1,"MASK"],[4479,2005,0,2004,0,"BRNMODEL"],[4480,1756,0,2004,1,"IMAGE"],[4482,2004,1,1951,0,"MASK"],[4490,1760,0,2016,0,"IMAGE"],[4491,1166,0,2016,1,"IMAGE"],[4492,2019,0,1184,0,"FLOAT"],[4493,2018,0,1118,0,"FLOAT"],[4494,2017,0,1020,0,"FLOAT"],[4495,2020,0,2010,0,"FLOAT"],[4499,1994,0,2026,0,"MASK"],[4506,2024,1,2026,1,"MASK"],[4508,1999,0,2031,1,"INT"],[4509,1999,1,2031,2,"INT"],[4510,2031,0,2024,0,"IMAGE"],[4511,2030,0,2031,0,"IMAGE"],[4514,2001,0,2033,1,"IMAGE"],[4515,2002,0,2033,0,"IMAGE"],[4517,2026,0,2036,0,"MASK"],[4518,2036,0,2033,2,"IMAGE"],[4519,2033,0,2037,0,"IMAGE"],[4520,2038,0,2039,0,"*"],[4521,2041,0,2033,3,"FLOAT"],[4522,2033,0,1960,0,"IMAGE"],[4524,2042,1,2043,1,"MASK"],[4525,1951,0,2043,0,"MASK"],[4526,2043,0,438,0,"MASK"],[4527,2004,0,2044,0,"IMAGE"],[4528,2044,0,2042,0,"IMAGE"],[4529,2043,0,706,1,"MASK"],[4530,1945,0,2045,0,"IMAGE"],[4531,1211,0,2046,0,"IMAGE"],[4532,742,0,975,1,"IMAGE"],[4534,1895,0,742,0,"IMAGE"],[4535,2066,0,1900,1,"FLOAT"],[4536,2067,0,1898,1,"FLOAT"],[4537,2068,0,1902,1,"FLOAT"],[4538,2069,0,1895,1,"FLOAT"],[4553,616,0,2075,0,"MASK"],[4554,627,0,2075,1,"MASK"],[4556,1072,0,614,0,"BBOX_DETECTOR"],[4557,1073,0,614,2,"SAM_MODEL"],[4559,2078,0,625,0,"BBOX_DETECTOR"],[4564,30,0,21,0,"CONDITIONING"],[4565,418,0,21,1,"CONDITIONING"],[4566,16,0,617,0,"CONDITIONING"],[4567,16,1,617,1,"CONDITIONING"],[4568,617,0,114,0,"*"],[4569,617,1,115,0,"*"],[4570,743,0,2080,1,"*"],[4571,2079,0,2080,0,"IMAGE"],[4572,2080,0,1895,0,"IMAGE"],[4573,2075,0,2083,0,"*"],[4574,616,0,2083,1,"MASK"],[4575,627,0,2083,2,"MASK"],[4576,2083,0,766,0,"MASK"],[4577,842,0,2085,0,"MODEL"],[4578,842,1,2085,1,"IPADAPTER"],[4581,2012,0,2085,6,"FLOAT"],[4582,1961,0,2085,4,"MASK"],[4584,2085,0,2086,0,"MODEL"],[4585,842,1,2086,1,"IPADAPTER"],[4587,1104,1,2086,7,"FLOAT"],[4588,1098,1,2086,6,"FLOAT"],[4589,1273,0,2086,4,"MASK"],[4595,2090,0,2088,1,"INT"],[4596,2090,0,2088,2,"INT"],[4597,2089,0,2090,0,"INT,FLOAT"],[4598,2088,0,2091,0,"IMAGE"],[4599,199,0,2088,0,"IMAGE"],[4600,2091,0,2085,2,"IMAGE"],[4601,2091,0,2092,0,"IMAGE"],[4602,2095,0,2093,1,"INT"],[4603,2095,0,2093,2,"INT"],[4605,2093,0,2096,0,"IMAGE"],[4606,2096,0,2097,0,"IMAGE"],[4607,1268,0,2093,0,"IMAGE"],[4608,2096,0,2086,2,"IMAGE"],[4609,2089,0,2085,7,"INT"],[4614,2099,0,773,0,"*"],[4615,2099,0,845,0,"MODEL"],[4618,2089,0,2095,0,"INT,FLOAT"],[4619,2089,0,2086,8,"INT"],[4620,2086,0,2099,0,"*"],[4621,2099,0,841,0,"MODEL"],[4626,2107,0,2106,0,"STRING"],[4635,2116,0,2118,0,"*"],[4637,2119,0,2120,0,"INT"],[4638,2120,0,2115,0,"INT,FLOAT"],[4639,2115,0,2107,0,"INT"],[4640,2106,0,2085,8,"COMBO"],[4641,2123,0,2124,0,"*"],[4642,1161,0,2125,0,"IMAGE"],[4643,2125,0,1165,0,"*"],[4645,530,0,2126,0,"*"],[4646,2128,0,2125,5,"UPSCALE_MODEL"],[4647,2133,0,2125,1,"MODEL"],[4648,1491,0,2134,0,"*"],[4649,416,0,2135,0,"*"],[4650,2131,0,2125,2,"CONDITIONING"],[4651,2136,0,2125,3,"CONDITIONING"],[4652,2130,0,2125,4,"VAE"],[4654,2137,0,2125,6,"FLOAT"],[4655,2138,0,2085,9,"FLOAT"],[4656,2139,0,2125,7,"INT"]],"groups":[{"title":"MN_主体及背景风格迁移","bounding":[-690,-1550,2010,910],"color":"#3f789e","font_size":24,"locked":false},{"title":"PO_人物面部迁移","bounding":[2380,-2190,1210,550],"color":"#3f789e","font_size":24,"locked":false},{"title":"PO_人物面部修复","bounding":[2380,-1620,1213,981],"color":"#3f789e","font_size":24,"locked":false},{"title":"CN_Inpaint（主体）","bounding":[1410,3010,765,464],"color":"#3f789e","font_size":24,"locked":false},{"title":"MN_第一次采样","bounding":[30,0,1750,544],"color":"#3f789e","font_size":24,"locked":false},{"title":"CT_自动生成主体蒙版","bounding":[-540,2020,766,649],"color":"#3f789e","font_size":24,"locked":false},{"title":"PO_CN_InPaint 面部手部加强","bounding":[470,1350,1710,470],"color":"#3f789e","font_size":24,"locked":false},{"title":"PO_人物手部修复","bounding":[3710,-1350,2030,714],"color":"#3f789e","font_size":24,"locked":false},{"title":"PO_CN_OpenPose","bounding":[1140,1890,1040,480],"color":"#3f789e","font_size":24,"locked":false},{"title":"CT_使用自定义蒙版","bounding":[-890,2020,270,554],"color":"#3f789e","font_size":24,"locked":false},{"title":"CN_LineArt","bounding":[470,2440,830,500],"color":"#3f789e","font_size":24,"locked":false},{"title":"MN_主图缩放及抠图","bounding":[-1140,1350,1370,594],"color":"#3f789e","font_size":24,"locked":false},{"title":"MN_第二次采样","bounding":[1880,0,850,534],"color":"#3f789e","font_size":24,"locked":false},{"title":"CN_Depth","bounding":[1370,2440,810,500],"color":"#3f789e","font_size":24,"locked":false},{"title":"US_高清放大","bounding":[3810,0,470,530],"color":"#3f789e","font_size":24,"locked":false},{"title":"MN_第三次采样","bounding":[2850,0,850,534],"color":"#3f789e","font_size":24,"locked":false},{"title":"CN_默认模式（二三次采样）","bounding":[2240,1350,1720,720],"color":"#3f789e","font_size":24,"locked":false},{"title":"基础控制面板","bounding":[4570,1376,2500,1494],"color":"#444","font_size":24,"locked":false},{"title":"Group","bounding":[4570,1010,2237,134],"color":"#444","font_size":24,"locked":false},{"title":"CN_深度图预处理","bounding":[2240,2690,1720,1060],"color":"#3f789e","font_size":24,"locked":false},{"title":"MN_流程说明以及加载的模型","bounding":[7890,1430,1120,1374],"color":"#444","font_size":24,"locked":false},{"title":"提示词","bounding":[5340,3420,1380,774],"font_size":24,"locked":false},{"title":"CN_Setting","bounding":[470,1890,610,490],"color":"#3f789e","font_size":24,"locked":false},{"title":"CN_插画模式 (二三次采样)","bounding":[2240,2130,1720,450],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[-1220,1040,1538,124],"color":"#444","font_size":24,"locked":false},{"title":"Fix_复原主体","bounding":[1480,-1620,793,982],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"groupNodes":{},"ds":{"scale":0.8,"offset":[-4414,-1360]}},"version":0.4}