{"last_node_id":138,"last_link_id":256,"nodes":[{"id":73,"type":"easy getNode","pos":[-697.5959685652549,-17.786096614860654],"size":{"0":210,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[164],"slot_index":0,"label":"IMAGE"}],"title":"Get_ref_image","properties":{},"widgets_values":["ref_image"],"color":"#1f1f48"},{"id":80,"type":"easy getNode","pos":[-1276.9738057526727,920.0413206907384],"size":{"0":210,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[172],"slot_index":0,"label":"INT"}],"title":"Get_ref_image_height","properties":{},"widgets_values":["ref_image_height"],"color":"#c09430"},{"id":79,"type":"easy getNode","pos":[-1277,824],"size":{"0":210,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[171],"slot_index":0,"label":"INT"}],"title":"Get_ref_image_width","properties":{},"widgets_values":["ref_image_width"],"color":"#c09430"},{"id":98,"type":"ImageResizeKJ","pos":[-1290,-22],"size":{"0":315,"1":242},"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":195,"label":"image"},{"name":"get_image_size","type":"IMAGE","link":null,"label":"get_image_size"},{"name":"width_input","type":"INT","link":null,"widget":{"name":"width_input"},"label":"width_input"},{"name":"height_input","type":"INT","link":null,"widget":{"name":"height_input"},"label":"height_input"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[196,197],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"width","type":"INT","links":[193],"shape":3,"slot_index":1,"label":"width"},{"name":"height","type":"INT","links":[194],"shape":3,"slot_index":2,"label":"height"}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[576,1024,"lanczos",true,64,0,0]},{"id":77,"type":"easy setNode","pos":[-960,498],"size":{"0":210,"1":58},"flags":{},"order":39,"mode":0,"inputs":[{"name":"INT","type":"INT","link":194,"slot_index":0,"label":"INT"}],"title":"Set_ref_image_height","properties":{"previousName":"ref_image_height"},"widgets_values":["ref_image_height"],"color":"#1f1f48"},{"id":35,"type":"ImageResizeKJ","pos":[-1278,1020],"size":{"0":303.6909484863281,"1":214},"flags":{},"order":34,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":86,"label":"image"},{"name":"get_image_size","type":"IMAGE","link":null,"label":"get_image_size"},{"name":"width_input","type":"INT","link":171,"widget":{"name":"width_input"},"label":"width_input"},{"name":"height_input","type":"INT","link":172,"widget":{"name":"height_input"},"label":"height_input"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[161,174],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[576,1024,"lanczos",false,64,0,0],"color":"#c09430"},{"id":3,"type":"LoadImage","pos":[-1681,-23],"size":{"0":379.727783203125,"1":606.2381591796875},"flags":{},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[195],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_mduhh_00002_.png","image"],"color":"#1f1f48"},{"id":89,"type":"PreviewImage","pos":[-953,87],"size":{"0":210,"1":246},"flags":{},"order":36,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":196,"label":"images","slot_index":0}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":76,"type":"easy setNode","pos":[-955,386],"size":{"0":210,"1":58},"flags":{},"order":38,"mode":0,"inputs":[{"name":"INT","type":"INT","link":193,"slot_index":0,"label":"INT"}],"title":"Set_ref_image_width","properties":{"previousName":"ref_image_width"},"widgets_values":["ref_image_width"],"color":"#1f1f48"},{"id":72,"type":"easy setNode","pos":[-954,-20],"size":{"0":210,"1":58},"flags":{},"order":37,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":197,"slot_index":0,"label":"IMAGE"}],"title":"Set_ref_image","properties":{"previousName":"ref_image"},"widgets_values":["ref_image"],"color":"#1f1f48"},{"id":101,"type":"SAMLoader","pos":[-846.092106073696,2531.819024861209],"size":{"0":232.26036071777344,"1":85.43153381347656},"flags":{},"order":4,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[206],"shape":3,"label":"SAM_MODEL","slot_index":0}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"],"color":"#346434"},{"id":2,"type":"DownloadAndLoadMimicMotionModel","pos":[232,129],"size":{"0":360.07196044921875,"1":82.71471405029297},"flags":{},"order":5,"mode":0,"outputs":[{"name":"mimic_pipeline","type":"MIMICPIPE","links":[146,150],"shape":3,"label":"mimic_pipeline"}],"properties":{"Node name for S&R":"DownloadAndLoadMimicMotionModel"},"widgets_values":["MimicMotionMergedUnet_1-1-fp16.safetensors","fp16"]},{"id":83,"type":"easy getNode","pos":[-693,78],"size":{"0":210,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[175],"slot_index":0,"label":"IMAGE"}],"title":"Get_driving_video","properties":{},"widgets_values":["driving_video"],"color":"#c09430"},{"id":104,"type":"FaceDetailer","pos":[-572,1837],"size":{"0":346,"1":1125},"flags":{},"order":44,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":225,"label":"image"},{"name":"model","type":"MODEL","link":209,"label":"model"},{"name":"clip","type":"CLIP","link":212,"label":"clip","slot_index":2},{"name":"vae","type":"VAE","link":211,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":214,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":215,"label":"negative"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":207,"label":"bbox_detector"},{"name":"sam_model_opt","type":"SAM_MODEL","link":206,"label":"sam_model_opt"},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt"},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"},{"name":"scheduler_func_opt","type":"SCHEDULER_FUNC","link":null,"label":"scheduler_func_opt"}],"outputs":[{"name":"image","type":"IMAGE","links":[240],"shape":3,"label":"image","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"cropped_refined"},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"cropped_enhanced_alpha"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"mask"},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"detailer_pipe"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"cnet_images"}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[512,true,1024,974118419992160,"fixed",20,8,"euler","normal",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20,true],"color":"#346434"},{"id":105,"type":"CheckpointLoaderSimple","pos":[-846,1968],"size":{"0":230.26036071777344,"1":98},"flags":{},"order":7,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[209],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[212,213,217],"shape":3,"label":"CLIP","slot_index":1},{"name":"VAE","type":"VAE","links":[211],"shape":3,"label":"VAE","slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["【SD15】majicMIX realistic 麦橘写实_v7.safetensors"],"color":"#346434"},{"id":106,"type":"CLIPTextEncode","pos":[-842,2114],"size":{"0":210,"1":101.59513854980469},"flags":{},"order":28,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":213,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[214],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["cute face,",true],"color":"#346434"},{"id":107,"type":"CLIPTextEncode","pos":[-846,2259],"size":{"0":210,"1":97.8291244506836},"flags":{},"order":29,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":217,"label":"clip","slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[215],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["embedding:easynegative, ",true],"color":"#346434"},{"id":100,"type":"UltralyticsDetectorProvider","pos":[-847,2405],"size":{"0":226.8000030517578,"1":78},"flags":{},"order":8,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[207],"shape":3,"label":"BBOX_DETECTOR","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"],"color":"#346434"},{"id":97,"type":"easy getNode","pos":[-137,2419],"size":{"0":210,"1":58},"flags":{},"order":9,"mode":0,"outputs":[{"name":"VHS_AUDIO","type":"VHS_AUDIO","links":[192],"slot_index":0,"label":"VHS_AUDIO"}],"title":"Get_driving_video_audio","properties":{},"widgets_values":["driving_video_audio"],"color":"#c09430"},{"id":120,"type":"easy getNode","pos":[-1672,1873],"size":{"0":210,"1":58},"flags":{},"order":10,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[236],"slot_index":0,"label":"IMAGE"}],"title":"Get_sampler_images","properties":{},"widgets_values":["sampler_images"],"color":"#422342"},{"id":115,"type":"easy getNode","pos":[-839,1860],"size":{"0":210,"1":58},"flags":{},"order":11,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[225],"slot_index":0,"label":"IMAGE"}],"title":"Get_sampler_images","properties":{},"widgets_values":["sampler_images"],"color":"#422342"},{"id":121,"type":"easy getNode","pos":[-1670,1970],"size":{"0":210,"1":58},"flags":{},"order":12,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[235],"slot_index":0,"label":"IMAGE"}],"title":"Get_ref_image","properties":{},"widgets_values":["ref_image"],"color":"#1f1f48"},{"id":118,"type":"ReActorFaceSwap","pos":[-1409,1873],"size":{"0":315,"1":358},"flags":{},"order":30,"mode":0,"inputs":[{"name":"input_image","type":"IMAGE","link":236,"label":"input_image"},{"name":"source_image","type":"IMAGE","link":235,"slot_index":1,"label":"source_image"},{"name":"face_model","type":"FACE_MODEL","link":null,"slot_index":2,"label":"face_model"},{"name":"face_boost","type":"FACE_BOOST","link":null,"label":"face_boost","slot_index":3}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[239],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3,"label":"FACE_MODEL"}],"properties":{"Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","GFPGANv1.4.pth",0.8,0.8,"no","no","0","0",1]},{"id":42,"type":"MimicMotionGetPoses","pos":[-463,-15],"size":{"0":241.24081420898438,"1":148.44703674316406},"flags":{},"order":27,"mode":0,"inputs":[{"name":"ref_image","type":"IMAGE","link":164,"label":"ref_image"},{"name":"pose_images","type":"IMAGE","link":175,"label":"pose_images"}],"outputs":[{"name":"poses_with_ref","type":"IMAGE","links":[114,183,186],"shape":3,"slot_index":0,"label":"poses_with_ref"},{"name":"pose_images","type":"IMAGE","links":[177],"shape":3,"slot_index":1,"label":"pose_images"}],"properties":{"Node name for S&R":"MimicMotionGetPoses"},"widgets_values":[true,true,true]},{"id":88,"type":"Fast Groups Bypasser (rgthree)","pos":{"0":-1697,"1":-435,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":252,"1":322},"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null,"label":"OPT_CONNECTION"}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"}},{"id":117,"type":"ReActorRestoreFace","pos":[161,1596],"size":{"0":315,"1":130},"flags":{},"order":52,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":229,"label":"image","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[230],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ReActorRestoreFace"},"widgets_values":["retinaface_resnet50","GFPGANv1.4.pth",1,0.8]},{"id":111,"type":"easy setNode","pos":[537,1600],"size":{"0":210,"1":58},"flags":{},"order":53,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":230,"slot_index":0,"label":"IMAGE"}],"title":"Set_sampler_images","properties":{"previousName":"sampler_images"},"widgets_values":["sampler_images"],"color":"#422342"},{"id":74,"type":"easy getNode","pos":[175,773],"size":{"0":210,"1":58},"flags":{},"order":14,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[165],"slot_index":0,"label":"IMAGE"}],"title":"Get_ref_image","properties":{},"widgets_values":["ref_image"],"color":"#1f1f48"},{"id":95,"type":"GetImageSizeAndCount","pos":[182,872],"size":{"0":210,"1":86},"flags":{},"order":42,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":186,"label":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[187],"shape":3,"label":"image","slot_index":0},{"name":"576 width","type":"INT","links":null,"shape":3,"label":"576 width"},{"name":"832 height","type":"INT","links":null,"shape":3,"label":"832 height"},{"name":"72 count","type":"INT","links":null,"shape":3,"label":"72 count"}],"properties":{"Node name for S&R":"GetImageSizeAndCount"}},{"id":57,"type":"MimicMotionSampler","pos":[445,763],"size":{"0":315,"1":430},"flags":{},"order":48,"mode":0,"inputs":[{"name":"mimic_pipeline","type":"MIMICPIPE","link":146,"label":"mimic_pipeline"},{"name":"ref_image","type":"IMAGE","link":165,"label":"ref_image","slot_index":1},{"name":"pose_images","type":"IMAGE","link":187,"label":"pose_images"},{"name":"optional_scheduler","type":"DIFFUSERS_SCHEDULER","link":null,"label":"optional_scheduler"}],"outputs":[{"name":"samples","type":"LATENT","links":[149],"shape":3,"slot_index":0,"label":"samples"}],"properties":{"Node name for S&R":"MimicMotionSampler"},"widgets_values":[20,2,2,42,"fixed",15,0,16,6,false,1,0,1,1]},{"id":58,"type":"MimicMotionDecode","pos":[182,1048],"size":{"0":210,"1":78},"flags":{},"order":50,"mode":0,"inputs":[{"name":"mimic_pipeline","type":"MIMICPIPE","link":150,"slot_index":0,"label":"mimic_pipeline"},{"name":"samples","type":"LATENT","link":149,"label":"samples"}],"outputs":[{"name":"images","type":"IMAGE","links":[229],"shape":3,"slot_index":0,"label":"images"}],"properties":{"Node name for S&R":"MimicMotionDecode"},"widgets_values":[4]},{"id":82,"type":"easy setNode","pos":[-943,1017],"size":{"0":210,"1":58},"flags":{},"order":47,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":174,"label":"IMAGE"}],"title":"Set_driving_video","properties":{"previousName":"driving_video"},"widgets_values":["driving_video"],"color":"#c09430"},{"id":96,"type":"easy setNode","pos":[-941,1122],"size":{"0":210,"1":58},"flags":{},"order":35,"mode":0,"inputs":[{"name":"AUDIO","type":"AUDIO","link":191,"slot_index":0,"label":"AUDIO"}],"title":"Set_driving_video_audio","properties":{"previousName":"driving_video_audio"},"widgets_values":["driving_video_audio"],"color":"#c09430"},{"id":37,"type":"VHS_VideoCombine","pos":[-676,264],"size":[467.9515380859375,971.0411105685764],"flags":{"collapsed":false},"order":40,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":114,"label":"images"},{"name":"audio","type":"VHS_AUDIO","link":null,"label":"audio"},{"name":"meta_batch","type":"VHS_BatchManager","link":null,"label":"meta_batch"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3,"label":"Filenames"}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":15,"loop_count":0,"filename_prefix":"MimicPose","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"MimicPose_00003.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":15}}}},{"id":108,"type":"ImpactSwitch","pos":[-1914,1826],"size":{"0":210,"1":122},"flags":{},"order":49,"mode":0,"inputs":[{"name":"input1","type":"IMAGE","link":239,"label":"input1"},{"name":"input2","type":"IMAGE","link":240,"label":"input2"},{"name":"input3","type":"IMAGE","link":null,"label":"input3"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[243],"shape":3,"label":"IMAGE","slot_index":0},{"name":"selected_label","type":"STRING","links":null,"shape":3,"label":"selected_label"},{"name":"selected_index","type":"INT","links":null,"shape":3,"label":"selected_index"}],"properties":{"Node name for S&R":"ImpactSwitch"},"widgets_values":[1,true]},{"id":122,"type":"easy setNode","pos":[-1913,1985],"size":{"0":210,"1":58},"flags":{},"order":51,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":243,"label":"IMAGE"}],"title":"Set_final_images","properties":{"previousName":"final_images"},"widgets_values":["final_images"],"color":"#1f1f48"},{"id":123,"type":"easy getNode","pos":[-140,2310],"size":{"0":210,"1":58},"flags":{},"order":15,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[249],"slot_index":0,"label":"IMAGE"}],"title":"Get_final_images","properties":{},"widgets_values":["final_images"],"color":"#1f1f48"},{"id":127,"type":"Note","pos":[-1915,2084],"size":{"0":218.99850463867188,"1":354.91680908203125},"flags":{},"order":16,"mode":0,"properties":{"text":""},"widgets_values":["提供两种二次优化的路径：\n\n选一是对面部还原度不高，比如AI生成的千篇一律的网红脸，只注重整体姿态的控制，可以接FaceDetailer节点。\n\n选二是追求面部还原度，则可以通过ReActor再次进行换脸。\n\nHere are two optimized approaches:\n\nOption 1: If the facial detail accuracy is not a priority, for instance, if the AI-generated faces look overly similar or have the \"cookie-cutter influencer\" look, and the focus is on controlling overall posture, you can use a FaceDetailer node.\n\nOption 2: If you prioritize facial accuracy, you can use the ReActor tool for face swapping to achieve better results."],"color":"#432","bgcolor":"#653"},{"id":135,"type":"Note","pos":[527,2293],"size":{"0":218.99850463867188,"1":354.91680908203125},"flags":{},"order":17,"mode":0,"properties":{"text":""},"widgets_values":["如果你开启RIFE VFI，Multiplier填为2，那么Frame_rate也要对应的乘以2。\n\n如果出现音画不同步的问题，那就是因为视频帧率没和驱动视频帧率保持一致。\n\nIf you enable RIFE VFI and set the Multiplier to 2, you should also double the frame rate accordingly.\n\n If you encounter audio-video synchronization issues, it's likely because the video frame rate is not consistent with the driven frame rate."],"color":"#432","bgcolor":"#653"},{"id":136,"type":"Note","pos":[795,1790],"size":{"0":210,"1":253.12335205078125},"flags":{},"order":18,"mode":0,"properties":{"text":""},"widgets_values":["为大家留了一个比较节点，其中包括原图、驱动姿势视频以及最终视频，以便大家进行比较。\n\n\nA comparison node has been provided for everyone, with the original image, the driving pose video, and the final video arranged from left to right, allowing for easy comparison."],"color":"#432","bgcolor":"#653"},{"id":85,"type":"easy setNode","pos":[-153,8],"size":{"0":210,"1":58},"flags":{},"order":43,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":177,"slot_index":0,"label":"IMAGE"}],"title":"Set_pose_images","properties":{"previousName":"pose_images"},"widgets_values":["pose_images"],"color":"#38291f"},{"id":138,"type":"DF_Image_scale_to_side","pos":[-1288,264],"size":{"0":315,"1":130},"flags":{},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":null,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3,"label":"IMAGE"}],"properties":{"Node name for S&R":"DF_Image_scale_to_side"},"widgets_values":[1,"Longest","nearest-exact","disabled"]},{"id":16,"type":"VHS_VideoCombine","pos":[186,2290],"size":[316.5242004394531,752.312733968099],"flags":{},"order":45,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":250,"label":"images","slot_index":0},{"name":"audio","type":"VHS_AUDIO","link":192,"label":"audio","slot_index":1},{"name":"meta_batch","type":"VHS_BatchManager","link":null,"label":"meta_batch"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3,"label":"Filenames"}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"MimicMotion","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"MimicMotion_00009-audio.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":30}}}},{"id":125,"type":"RIFE VFI","pos":[-124,1858],"size":{"0":319.20001220703125,"1":198},"flags":{},"order":31,"mode":0,"inputs":[{"name":"frames","type":"IMAGE","link":249,"label":"frames"},{"name":"optional_interpolation_states","type":"INTERPOLATION_STATES","link":null,"label":"optional_interpolation_states"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[250],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"RIFE VFI"},"widgets_values":["rife47.pth",10,2,true,true,1]},{"id":75,"type":"easy getNode","pos":[300,1850],"size":{"0":210,"1":58},"flags":{},"order":20,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[189],"slot_index":0,"label":"IMAGE"}],"title":"Get_ref_image","properties":{},"widgets_values":["ref_image"],"color":"#1f1f48"},{"id":86,"type":"easy getNode","pos":[310,1950],"size":{"0":210,"1":58},"flags":{},"order":21,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[242],"slot_index":0,"label":"IMAGE"}],"title":"Get_pose_images","properties":{},"widgets_values":["pose_images"],"color":"#38291f"},{"id":124,"type":"easy getNode","pos":[310,2060],"size":{"0":210,"1":58},"flags":{},"order":22,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[247],"slot_index":0,"label":"IMAGE"}],"title":"Get_final_images","properties":{},"widgets_values":["final_images"],"color":"#1f1f48"},{"id":17,"type":"ImageConcatMulti","pos":[550,1870],"size":{"0":213.31187438964844,"1":231.92222595214844},"flags":{},"order":32,"mode":4,"inputs":[{"name":"image_1","type":"IMAGE","link":189,"label":"image_1","slot_index":0},{"name":"image_2","type":"IMAGE","link":242,"label":"image_2"},{"name":"image_3","type":"IMAGE","link":247,"label":"image_3","slot_index":2},{"name":"image_4","type":"IMAGE","link":null,"label":"image_4"}],"outputs":[{"name":"images","type":"IMAGE","links":[],"shape":3,"slot_index":0,"label":"images"}],"properties":{},"widgets_values":[3,"right",false,null]},{"id":112,"type":"easy getNode","pos":[-186,1277],"size":{"0":210,"1":58},"flags":{},"order":23,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[223],"slot_index":0,"label":"IMAGE"}],"title":"Get_pose_images","properties":{},"widgets_values":["pose_images"],"color":"#38291f"},{"id":5,"type":"VHS_LoadVideo","pos":[-1680.9738057526727,822.0413206907384],"size":[378.91448974609375,914.0702039930555],"flags":{},"order":24,"mode":0,"inputs":[{"name":"meta_batch","type":"VHS_BatchManager","link":null,"label":"meta_batch","slot_index":0},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[86],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"frame_count","type":"INT","links":null,"shape":3,"label":"frame_count","slot_index":1},{"name":"audio","type":"VHS_AUDIO","links":[191],"shape":3,"label":"audio"},{"name":"video_info","type":"VHS_VIDEOINFO","links":[],"shape":3,"label":"video_info","slot_index":3}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"pose1.mp4","force_rate":0,"force_size":"Disabled","custom_width":512,"custom_height":512,"frame_load_cap":71,"skip_first_frames":150,"select_every_nth":2,"choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"frame_load_cap":71,"skip_first_frames":150,"force_rate":0,"filename":"pose1.mp4","type":"input","format":"video/mp4","select_every_nth":2}}},"color":"#c09430"},{"id":92,"type":"PreviewImage","pos":[-192,171],"size":{"0":302.4035339355469,"1":508.0455627441406},"flags":{},"order":41,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":183,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":93,"type":"PreviewImage","pos":[-188,726],"size":{"0":302.4035339355469,"1":508.0455627441406},"flags":{},"order":33,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":223,"label":"images","slot_index":0}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":64,"type":"PreviewImage","pos":[-1277,1274],"size":{"0":307.657470703125,"1":453.8309326171875},"flags":{},"order":46,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":161,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#c09430"},{"id":128,"type":"Note","pos":[-1926,-67],"size":{"0":216.91192626953125,"1":247.86375427246094},"flags":{},"order":25,"mode":0,"properties":{"text":""},"widgets_values":["使用方法可以看我自媒体视频：\n\nB站：JasonSt0ne\nhttps://www.bilibili.com/video/BV18keGeaEhN\n\nYoutube：Jason Stone\nhttps://youtu.be/-bTPvg7yUhU\n\nUP的个人qq号：1379736478\n需要定制工作流等商业合作请＋VX号:Gent1e0411（备注来意）\n\n"],"color":"#c09430"}],"links":[[86,5,0,35,0,"IMAGE"],[114,42,0,37,0,"IMAGE"],[146,2,0,57,0,"MIMICPIPE"],[149,57,0,58,1,"LATENT"],[150,2,0,58,0,"MIMICPIPE"],[161,35,0,64,0,"IMAGE"],[164,73,0,42,0,"IMAGE"],[165,74,0,57,1,"IMAGE"],[171,79,0,35,2,"INT"],[172,80,0,35,3,"INT"],[174,35,0,82,0,"*"],[175,83,0,42,1,"IMAGE"],[177,42,1,85,0,"*"],[183,42,0,92,0,"IMAGE"],[186,42,0,95,0,"IMAGE"],[187,95,0,57,2,"IMAGE"],[189,75,0,17,0,"IMAGE"],[191,5,2,96,0,"*"],[192,97,0,16,1,"VHS_AUDIO"],[193,98,1,76,0,"*"],[194,98,2,77,0,"*"],[195,3,0,98,0,"IMAGE"],[196,98,0,89,0,"IMAGE"],[197,98,0,72,0,"*"],[206,101,0,104,7,"SAM_MODEL"],[207,100,0,104,6,"BBOX_DETECTOR"],[209,105,0,104,1,"MODEL"],[211,105,2,104,3,"VAE"],[212,105,1,104,2,"CLIP"],[213,105,1,106,0,"CLIP"],[214,106,0,104,4,"CONDITIONING"],[215,107,0,104,5,"CONDITIONING"],[217,105,1,107,0,"CLIP"],[223,112,0,93,0,"IMAGE"],[225,115,0,104,0,"IMAGE"],[229,58,0,117,0,"IMAGE"],[230,117,0,111,0,"*"],[235,121,0,118,1,"IMAGE"],[236,120,0,118,0,"IMAGE"],[239,118,0,108,0,"IMAGE"],[240,104,0,108,1,"IMAGE"],[242,86,0,17,1,"IMAGE"],[243,108,0,122,0,"*"],[247,124,0,17,2,"IMAGE"],[249,123,0,125,0,"IMAGE"],[250,125,0,16,0,"IMAGE"]],"groups":[{"title":"Driving Video","bounding":[-1691,748,976,998],"color":"#b58b2a","font_size":24,"locked":false},{"title":"InPut(Image)","bounding":[-1691,-97,974,832],"color":"#3f789e","font_size":24,"locked":false},{"title":"GetPoses","bounding":[-708,-92,832,1836],"color":"#b06634","font_size":24,"locked":false},{"title":"MimicMotionModel","bounding":[137,-86,648,628],"color":"#a1309b","font_size":24,"locked":false},{"title":"MimicMOtion Sampler","bounding":[139,554,647,935],"color":"#a1309b","font_size":24,"locked":false},{"title":"FaceDetailer","bounding":[-861,1760,656,1348],"color":"#8A8","font_size":24,"locked":false},{"title":"ReActor","bounding":[-1691,1759,818,1350],"color":"#8A8","font_size":24,"locked":false},{"title":"Restore Face","bounding":[141,1507,642,237],"color":"#70e1a6","font_size":24,"locked":false},{"title":"OutPut","bounding":[-191,2206,975,904],"color":"#3f789e","font_size":24,"locked":false},{"title":"Comparison between before, during and after","bounding":[289,1763,494,429],"color":"#52a2a7","font_size":24,"locked":false},{"title":"RIFE VFI","bounding":[-193,1761,469,430],"color":"#d282d2","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.40909090909090967,"offset":{"0":4960.202635584414,"1":823.2622339740327}}},"version":0.4}